<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä½¿ç”¨rollupæ‰“åŒ…å¹¶å‘å¸ƒä¸€ä¸ªjsåº“]]></title>
    <url>%2F2021%2F04%2F30%2F%E4%BD%BF%E7%94%A8rollup%E6%89%93%E5%8C%85%E5%B9%B6%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAjs%E5%BA%93%2F</url>
    <content type="text"><![CDATA[rollup æ‰“åŒ…jsåº“ å‘å¸ƒä¸€ä¸ªjsåº“åŒ…å«ä¸€ä¸‹å‡ ä¸ªå¤§è‡´çš„æµç¨‹ ç¼–å†™åº“ä»£ç  é…ç½®æ‰“åŒ… é…ç½® npm è´¦æˆ·å’Œå‘å¸ƒé…ç½® é…ç½® travis ci æŒç»­é›†æˆçŽ¯å¢ƒï¼Œç›¸å…³é…ç½® æ›´æ–° versionï¼Œæäº¤tag å‡ºå‘æž„å»ºå‘å¸ƒæµç¨‹ 1. ç¼–å†™ä»£ç åº“123456789101112// src/index.jsclass Dog &#123; constructor(name = 'huahua') &#123; this.name = name &#125; eat() &#123; console.log(this.name + 'eat food!') &#125;&#125;export default Dog 2. é…ç½®æ‰“åŒ…æ‰“åŒ…æœ‰å‡ ç§æ–¹å¼ï¼Œç›®å‰ä¸»æµæ˜¯ webpack å’Œ rollupã€‚ å…¶ä¸­webpacké€‚åˆå¼€å‘é¡¹ç›®æ‰“åŒ…ï¼ˆä»£ç æ‹†åˆ†ã€é™æ€èµ„æºå¤„ç†ï¼‰ï¼Œå¦‚æžœæ˜¯å‘å¸ƒç±»åº“çš„è¯ rollup æ›´åˆé€‚ã€‚ ç›¸å…³å¯¹æ¯”å¯ä»¥å‚è€ƒ https://www.jianshu.com/p/19a3d8ef5e6c rollupâ€‹ è¿™é‡Œæˆ‘ä»¬å¼€å‘ç±»åº“ä½¿ç”¨çš„æ˜¯ rollup è¿›è¡Œæ‰“åŒ…ï¼Œè¯¦ç»†ä»‹ç»å’Œä½¿ç”¨å¯ä»¥å‚è€ƒï¼š https://www.rollupjs.com/guide/tutorial é»˜è®¤å·²ç»å¯¹ rollup æœ‰æ‰€äº†è§£äº†ï¼ŒæŽ¥ç€æˆ‘ä»¬å¼€å§‹è¿›è¡Œæ‰“åŒ…çš„é…ç½®ï¼š é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨æ ¹ç›®å½•æ–°å»º rollup.config.js æ–‡ä»¶ï¼Œå¹¶é…ç½®å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435import pkjson from './package.json';import filesize from 'rollup-plugin-filesize';import &#123; babel &#125; from '@rollup/plugin-babel';import &#123; nodeResolve &#125; from '@rollup/plugin-node-resolve';import commonjs from '@rollup/plugin-commonjs';import &#123; terser &#125; from "rollup-plugin-terser";const isDev = process.argv.splice(2).indexOf('--pub') &lt; 0;const prjName = pkjson.nameconst ProjectName = 'ZMark'const output = isDev ? &#123; file: `build/$&#123;prjName&#125;.js` &#125; : &#123; file: `build/$&#123;prjName&#125;.js` &#125;;export default &#123; input: 'src/index.js', output: &#123; ...output, format: 'umd', name: ProjectName, sourcemap: true &#125;, plugins: [ nodeResolve(), commonjs(&#123; sourceMap: false, // Default: true &#125;), filesize(), babel(&#123; exclude: 'node_modules/**', // åªç¼–è¯‘æˆ‘ä»¬çš„æºä»£ç  babelHelpers: 'runtime', &#125;), terser(), ],&#125; å…¶ä¸­ä¸»è¦é…ç½®æ˜¯ input , output , plugins input å°±æ˜¯æ•´ä¸ªåº“çš„å…¥å£æ–‡ä»¶ output å°±æ˜¯æ‰“åŒ…åŽæ–‡ä»¶å­˜æ”¾çš„ä½ç½®ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ format è¿™ä¸ªå‚æ•°ï¼Œé…ç½®æ‰“åŒ…æ¨¡å—æ–¹å¼ï¼Œå¸¸ç”¨çš„æœ‰ cjs -- commonjs umd -- é€šç”¨æ¨¡å—å®šä¹‰è§„èŒƒ esm -- es moudle ï¼Œ è¯¦æƒ…å‚è€ƒç½‘ä¸Šå…³äºŽ CommonJSã€AMDã€CMDã€UMDå’ŒES Modulesçš„åŒºåˆ« plugins æ˜¯æ‰“åŒ…è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°çš„æ’ä»¶ï¼Œrollup çš„ç²¾é«“å°±æ˜¯é€šè¿‡å„ç§æ’ä»¶å®žçŽ°æƒ³è¦çš„æ•ˆæžœã€‚ ä¸Šé¢é…ç½®ä¸­ç”¨åˆ°å¦‚ä¸‹æ’ä»¶ï¼š nodeResolve åŠ è½½node_moudles ä¸‰æ–¹åŒ… commonjs ï¼ˆrollup æ”¯æŒesæ¨¡å—è§„èŒƒï¼Œéœ€è¦å°†commonjsè½¬æˆ esmï¼‰ filesize ï¼ˆæž„å»ºæ—¶æç¤ºï¼‰ babel ï¼ˆé‡è¦ï¼ å°† es2015+ è¯­æ³•è½¬æˆes5 æ”¯æŒçš„è¯­æ³•ï¼Œç›¸å…³ä»‹ç»åŽæœŸå•ç‹¬å¼€ä¸€ä¸ªæ–‡ç« ï¼‰ terser (æ‰“åŒ…åŽ‹ç¼©) æŽ¥ç€æˆ‘ä»¬åœ¨ package.json ä¸­æ·»åŠ æž„å»ºè„šæœ¬ 1"build": "rimraf ./build/ &amp;&amp; rollup -c --pub", å…¶ä¸­ rimraf æ˜¯å®‰è£…çš„æ’ä»¶ï¼Œå®žçŽ°æž„å»ºå‰å°† /build æ–‡ä»¶å¤¹åŠå…¶ä¸‹é¢æ‰€æœ‰æ–‡ä»¶åˆ é™¤çš„åŠŸèƒ½ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…: 1npm i rimraf -D æ‰§è¡ŒåŽå°±ä¼šåœ¨æ ¹ç›®å½• /build æ–‡ä»¶ä¸‹ç”Ÿæˆæ‰“åŒ…åŽçš„ js æ–‡ä»¶ 3. npm å‘å¸ƒç»è¿‡ ç¼–å†™åº“ä»£ç ã€rollup æž„å»ºæ‰“åŒ…ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯å°†æ‰“åŒ…å¥½çš„åº“å‘å¸ƒåˆ° npm ä»“åº“ä¸ŠåŽ»ã€‚ é¦–å…ˆéœ€è¦æ³¨å†Œä¸€ä¸ª npm çš„è´¦æˆ· å®Œå–„ package.json ä¸‹çš„åŒ…ä¿¡æ¯ ä½¿ç”¨ npm login æœ¬åœ°ç™»é™†è´¦å· ï¼ˆæ³¨ï¼š å¦‚æžœæ›´æ”¹äº† npm æºå¯ä»¥èƒ½é‡åˆ°é—®é¢˜ï¼Œå…·ä½“å‚è€ƒç½‘ä¸Šè§£ç­”æˆ–è€…æ¢å›žåŽŸæœ¬çš„æºï¼‰ æŽ¥ç€å°±å¯ä»¥ç›´æŽ¥å‘å¸ƒäº† npm publish ï¼Œç„¶åŽåœ¨ npm ä¸Šå°±å¯ä»¥çœ‹åˆ°è‡ªå·±å‘å¸ƒçš„åŒ…äº†ã€‚ 4. è‡ªåŠ¨åŒ–å‘å¸ƒï¼ˆå¾…ç»­ï¼‰â€¦â€¦æ•´ä¸ªæ‰“åŒ…å‘åº“è¿‡ç¨‹è¿˜å¯ä»¥æ›´è‡ªåŠ¨åŒ–ä¸€ç‚¹ï¼Œå¯ä»¥é€šè¿‡ travis CI ç»“åˆ githubæ¥å®žçŽ° æž„å»ºå‘å¸ƒä¸€æ¡é¾™æœåŠ¡ï¼Œå…·ä½“é…ç½®å’Œä½¿ç”¨ï¼ŒåŽé¢å†ç»“åˆ rollup æ‰“åŒ…çš„ babel é…ç½®ä¸€èµ·æ¥è¯´ã€‚]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>rollup</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-routeré…ç½®è¸©å‘]]></title>
    <url>%2F2021%2F03%2F30%2Fvue-router%E9%85%8D%E7%BD%AE%E8%B8%A9%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Vue-Router é…ç½®è¸©å‘ã€æŽ¢ç©¶å…ˆæ¥çœ‹ä¸€æ®µ Vue-Router å®˜æ–¹çš„ä»‹ç» å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ä¸ªç»“è®ºï¼š è·¯ç”±æ˜¯æŒ‰ç…§ä»Žä¸Šåˆ°ä¸‹å®šä¹‰çš„é¡ºåºæ¥è¿›è¡ŒåŒ¹é…çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰è·¯ç”±å½“åŒ¹é…åˆ°è·¯ç”±é…ç½®ä¸­é å‰çš„è·¯ç”±åŽå°±ä¼šåœæ­¢åŽç»­è·¯ç”±çš„åŒ¹é…ï¼Œå³ä½¿åŽé¢æœ‰ç›¸åŒçš„è·¯ç”±ã€‚ path: * é»˜è®¤ä¼šåŒ¹é…æ‰€æœ‰è·¯å¾„ï¼Œé‚£æŒ‰ç…§ç¬¬ä¸€ç‚¹æ¥è¯´ï¼Œè¯¥è·¯ç”±é…ç½®åªèƒ½æ”¾åœ¨æœ€åŽï¼Œå¦åˆ™ä¼šå½±å“è·¯ç”±æ­£å¸¸è·³è½¬ã€‚ ä½†æ˜¯ï¼ï¼ åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘çœ‹åˆ°äº†å¦‚ä¸‹é…ç½® ï¼Ÿï¼Ÿï¼Ÿ æŒ‰ç…§ä¸Šé¢åˆ†æžè¿™æ ·ä¸æ˜¯ä¼šå¯¼è‡´æ‰€æœ‰è·¯ç”±éƒ½å®šä½åˆ° 404 å— ä½†æ˜¯å®žé™…æˆ‘ä»¬å¯åŠ¨äº†é¡¹ç›®åŽï¼Œè·¯ç”±å´èƒ½æ­£å¸¸è·³è½¬ï¼Œè¿™ä¸æ˜¯è·Ÿä¸Šè¿°çš„è§„åˆ™å¯¹ä¸ä¸Šå—ï¼Ÿ æœ¬ç€æŽ¢ç©¶åˆ°åº•çš„ç²¾ç¥žï¼Œç»è¿‡å¤šæ–¹è¯¢é—®å’ŒæŸ¥é˜…ï¼Œæˆ‘ä»¬åœ¨æºç ä¸­å‘çŽ°äº†è¿™æ®µä»£ç  åŽŸæ¥æºç é‡Œé¢å·²ç»å¸®æˆ‘ä»¬è¿›è¡Œäº†å¤„ç†ï¼Œä¸ç®¡å¦‚ä½•é…ç½® path: * éƒ½ä¼šç§»åˆ°æœ€åŽã€‚]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>Vue-Router</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ThreeJsåŸºç¡€æ¦‚å¿µ]]></title>
    <url>%2F2021%2F03%2F30%2FThreeJs%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[three.js åŸºç¡€æ¦‚å¿µ Three.js æ˜¯åŸºäºŽwebglçš„äºŒæ¬¡å°è£…ã€‚å°†webglç¹æ‚çš„apiå°è£…æˆè¾ƒä¸ºç®€æ´ã€é¢å‘å¯¹è±¡çš„æ–¹å¼ã€‚threejsæä¾›äº†å‡ ä¸ªåŸºæœ¬å¯¹è±¡è®©æˆ‘ä»¬å¾ˆæ–¹ä¾¿çš„æž„å»ºä¸€ä¸ª3Dåº”ç”¨ï¼Œåˆ†åˆ«æ˜¯ åœºæ™¯ ã€ ç›¸æœºã€ æ¸²æŸ“å™¨ ã€‚ åœºæ™¯å°±æ˜¯å‘ˆçŽ°å›¾å½¢ç”»é¢çš„ç©ºé—´ã€ç›¸æœºå¯ä»¥ç†è§£ä¸ºè§‚å¯Ÿæ‹æ‘„å›¾å½¢ç”»é¢çš„æ–¹å¼ã€æ¸²æŸ“å™¨åˆ™æ˜¯å°†ç”»é¢æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚ æˆ‘ä»¬å°†ä»Žä»¥ä¸Šä¸‰ä¸ªå¯¹è±¡å‡ºå‘ï¼Œäº†è§£threejså¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªåŸºç¡€çš„3Då›¾å½¢ åœºæ™¯ã€ç›¸æœº12const scene = new THREE.Scene();const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 ); ä»¥ä¸Šä»£ç æ–°å»ºäº†ä¸€ä¸ªåœºæ™¯å’Œé€è§†ç›¸æœºï¼Œä¸»è¦çœ‹ä¸‹ç›¸æœºè¿™ä¸€éƒ¨åˆ†ã€‚ ç›¸æœºè¯¦è§£â€‹ three.js å†…ç½®äº†å¤šç§ç›¸æœºï¼Œä½¿ç”¨æœ€æ™®éçš„æ˜¯é€è§†ç›¸æœºï¼ˆPerspectiveCameraï¼‰å’Œæ­£äº¤ç›¸æœº ï¼ˆOrthographicCameraï¼‰ â€‹ ç›¸æœºéƒ½æ˜¯ä½¿ç”¨å³æ‰‹åæ ‡ç³»ï¼š â€‹ é€è§†ç›¸æœºé€è§†ç›¸æœºè§‚å¯Ÿçš„æ•ˆæžœæ›´äººçœ¼ä¸€æ ·ï¼Œè§‚å¯Ÿç‰©ä½“æ—¶æ˜¯ è¿‘å¤§è¿œå° çš„æ•ˆæžœï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š new THREE.PerspectiveCamera(fov, aspect, near, far) è¯¥apiä¸ºæ–°å»ºä¸€ä¸ªé€è§†ç›¸æœºï¼Œç›¸åº”çš„å‚æ•°åˆ†åˆ«ä»£è¡¨ fovè¡¨ç¤ºè§†è§’ï¼› aspectè¡¨ç¤ºè£åˆ‡é¢å®½é«˜æ¯”ï¼› nearè¡¨ç¤ºè¿‘å¹³é¢è·ç¦»ï¼› farè¡¨ç¤ºè¿œå¹³é¢è·ç¦»ï¼› åªæœ‰ç¦»ç›¸æœºçš„è·ç¦»å¤§äºŽnearä¸”å°äºŽfarï¼Œå¦å¤–è¿˜å¾—åœ¨ç›¸æœºè§†è§’(fov)å†…çš„ç‰©ä½“ï¼Œæ‰èƒ½è¢«ç›¸æœºè§‚å¯Ÿåˆ°ä»Žè€Œè¢«æ¸²æŸ“å™¨æ¸²æŸ“å‡ºæ¥ï¼› æ­£äº¤ç›¸æœºæ­£äº¤ç›¸æœºè§‚æµ‹çš„ç‰©ä½“ä¸ç®¡ç¦»ç‰©ä½“è·ç¦»è¿œè¿‘ï¼Œæ¸²æŸ“å‡ºæ¥éƒ½æ˜¯ä¸€ä¸ªå¤§å° THREE.OrthographicCamera(left, right, top, bottom, near, far) è¿™å…­ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨æ­£äº¤æŠ•å½±ç…§ç›¸æœºæ‹æ‘„åˆ°çš„ç©ºé—´çš„å…­ä¸ªé¢çš„ä½ç½®ï¼Œè¿™å…­ä¸ªé¢å›´æˆä¸€ä¸ªé•¿æ–¹ä½“ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºè§†æ™¯ä½“ï¼ˆFrustumï¼‰ã€‚åªæœ‰åœ¨è§†æ™¯ä½“å†…éƒ¨ï¼ˆä¸‹å›¾ä¸­çš„ç°è‰²éƒ¨åˆ†ï¼‰çš„ç‰©ä½“æ‰å¯èƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œè€Œè§†æ™¯ä½“å¤–çš„ç‰©ä½“ä¼šåœ¨æ˜¾ç¤ºä¹‹å‰è¢«è£å‡æŽ‰ã€‚ ä¸ºäº†ä¿æŒç…§ç›¸æœºçš„æ¨ªç«–æ¯”ä¾‹ï¼Œéœ€è¦ä¿è¯(right - left)ä¸Ž(top - bottom)çš„æ¯”ä¾‹ä¸ŽCanvaså®½åº¦ä¸Žé«˜åº¦çš„æ¯”ä¾‹ä¸€è‡´ã€‚ åŒæ—¶nearä¸Žfaréƒ½æ˜¯æŒ‡åˆ°ç…§ç›¸æœºä½ç½®åœ¨æ·±åº¦å¹³é¢çš„ä½ç½®ã€‚ ç›¸æœºä½ç½®ç›¸æœºçš„positionå±žæ€§å†³å®šå…¶ä½ç½®, å‚æ•°åˆ†åˆ«ä¸º xã€yã€zã€‚ camera.position.set(x, y, z) ç›¸æœºçš„upå±žæ€§å†³å®šç›¸æœºçš„æ­£è§†æ–¹å‘ï¼Œä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºxã€yã€zä¸‰ä¸ªç»´åº¦çš„å‘é‡ã€‚ camera.up.set(0, 1, 0) // yè½´æ­£å‘ï¼Œäººæ­£ç«‹è§‚å¯Ÿå¯¹è±¡ Vector3å¯¹è±¡ã€‚ Vector3( x : Float, y : Float, z : Float ) è¿™ä¸ªå±žæ€§æ—¢å¯ä»¥è¡¨ç¤ºä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹ä¹Ÿå¯ä»¥è¡¨ç¤ºå‘é‡ ç›¸æœºè¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ä¸ªå±žæ€§è§†ç‚¹éœ€è¦è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯äººçœ¼çš„ç„¦ç‚¹ï¼Œè°ƒç”¨lookAtæ–¹æ³•å³å¯ï¼Œå‚æ•°ä¸ºVector3å¯¹è±¡ï¼Œç‚¹(0, 0, 0)è¡¨ç¤ºåæ ‡ç³»åŽŸç‚¹ã€‚ æ¸²æŸ“å™¨è§†ç½‘è†œçš„ä½œç”¨æ˜¯æˆåƒï¼Œåœ¨ ThreeJS æ¡†æž¶ä¸­çš„æ¸²æŸ“å™¨èµ·åˆ°ç›¸åŒçš„ä½œç”¨ Threejsæä¾›äº†å‡ ç§æ¸²æŸ“å™¨ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ WebGLRenderer , å…¶ä»–çš„è§†æƒ…å†µçœ‹å…¼å®¹æ€§è€Œå®šã€‚ 123const renderer = new THREE.WebGLRenderer();renderer.setSize(window.innerWidth, window.innerHeight); //è®¾ç½®æ¸²æŸ“å™¨å®½åº¦å’Œé«˜åº¦document.body.appendChild(renderer.domElement); // å°†æ¸²æŸ“å™¨é˜²æ­¢åˆ°bodyå®¹å™¨ä¸‹ ç‰©ä½“Threejså°è£…äº†å¤šç§å‡ ä½•ä½“ï¼Œä»¥ BoxGeometry ä¸¾ä¾‹ï¼Œå¯ä»¥åˆ›å»ºæ­£æ–¹ä½“æˆ–è€…é•¿æ–¹ä½“ 1234var geometry = new THREE.BoxGeometry( 100, 100, 100);var material = new THREE.MeshLambertMaterial( &#123;color: 0xff0000&#125; );cube = new THREE.Mesh( geometry, material );cube.position.set(0,0,0); BoxGeometryå¯¹è±¡æ—¶åªç”¨äº†å‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºé•¿ã€å®½ã€é«˜ï¼›ä½†å…¶å®žè¯¥å¯¹è±¡è¿˜æœ‰ä¸‰ä¸ªå‚æ•° 1BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) åˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªé¢ç”±å¤šå°‘ä¸‰è§’å½¢ç»„æˆã€‚åœ¨webGLä¸­ï¼Œæœ€åŸºç¡€çš„å°±æ˜¯ç‚¹ã€çº¿ã€ä¸‰è§’å½¢ ï¼Œthreejsä¸­è´Ÿè´£çš„å›¾å½¢éƒ½æ˜¯ç”±è¿™äº›ç»„æˆçš„ã€‚ä¸Šè¿°ç”Ÿæˆçš„ä¸‰è§’å½¢ç½‘æ ¼ ç»„æˆæ•´ä¸ªæ­£æ–¹ä½“è½®å»“ï¼Œæ­¤æ—¶æˆ‘ä»¬è¿˜éœ€è¦ç»™æ­£æ–¹ä½“è¡¨é¢æ·»åŠ æè´¨ ã€‚ ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨çš„æ˜¯ MeshLambertMaterial å…°ä¼¯ç‰¹æè´¨, ç„¶åŽè®¾ç½®é¢œè‰²ä¸º 0xff0000 æŽ¥ç€å°†æè´¨å’Œè½®å»“ ç»“åˆåœ¨ä¸€èµ·å°±ç”Ÿæˆäº†æ­£æ–¹ä½“ï¼Œå¹¶è®¾ç½®å…¶ä¸­å¿ƒç‚¹åœ¨åæ ‡ç³»åŽŸç‚¹ã€‚ ç„¶åŽå°†ç‰©ä½“æ·»åŠ åˆ°åœºæ™¯ä¸­ scene.add(cube) æ€»ç»“threejs ä¸»è¦ç”±æ¸²æŸ“å™¨ã€åœºæ™¯ã€ç›¸æœºç»„æˆã€‚é€šè¿‡é…ç½®å¥½åœºæ™¯ã€ç›¸æœºï¼Œç„¶åŽå°†ç”Ÿæˆçš„ç‰©ä½“æ”¾ç½®åœ¨åœºæ™¯ä¸­ï¼Œæœ€åŽé€šè¿‡æ¸²æŸ“å™¨ç”Ÿæˆåˆ°å±å¹•ä¸Šï¼Œå°±å®Œæˆä¸€ä¸ª3Då›¾å½¢äº†ã€‚ ä¸‹é¢æ˜¯threejså®Œæ•´ä»£ç  12345678910111213141516171819202122const scene = new THREE.Scene(); // åˆ›å»ºåœºæ™¯const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); // åˆ›å»ºç›¸æœº// åˆ›å»ºæ¸²æŸ“å™¨const renderer = new THREE.WebGLRenderer();renderer.setSize(window.innerWidth, window.innerHeight); //è®¾ç½®æ¸²æŸ“å™¨å®½åº¦å’Œé«˜åº¦document.body.appendChild(renderer.domElement);// è®¾ç½®ç›¸æœºvar origPoint = new THREE.Vector3(0, 0, 0); //åŽŸç‚¹camera.position.set(20, 40, 60); //è®¾ç½®ç›¸æœºä½ç½®camera.up.set(0, 1, 0); //è®¾ç½®ç›¸æœºæ­£æ–¹å‘ yæ­£æ–¹å‘å‘é‡camera.lookAt(origPoint);//è®¾ç½®ç›¸æœºè§†ç‚¹// è®¾ç½®ç‰©ä½“const geometry = new THREE.BoxGeometry(); // ç”Ÿæˆå‡ ä½•ä½“è½®å»“const material = new THREE.MeshBasicMaterial(&#123; color: 0x66ccff &#125;); // ç”Ÿæˆå‡ ä½•ä½“æè´¨const cube = new THREE.Mesh(geometry, material); // è½®å»“ã€æè´¨ç”Ÿæˆç«‹æ–¹ä½“scene.add(cube); // æ·»åŠ åˆ°åœºæ™¯ä¸­// æ¸²æŸ“renderer.render(scene, camera);]]></content>
      <categories>
        <category>ThreeJs</category>
      </categories>
      <tags>
        <tag>ThreeJs</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŒæ­¥ã€å¼‚æ­¥ã€ä»»åŠ¡é˜Ÿåˆ—]]></title>
    <url>%2F2021%2F03%2F30%2F%E5%90%8C%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5%E3%80%81%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%2F</url>
    <content type="text"><![CDATA[JS åŒæ­¥ã€å¼‚æ­¥ã€ä»»åŠ¡é˜Ÿåˆ— æµè§ˆå™¨æ˜¯å¤šçº¿ç¨‹ï¼Œä½† js æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ã€‚ å…¶ä»–çš„è¯¸å¦‚äº‹ä»¶ã€ç½‘ç»œã€å®šæ—¶å™¨éƒ½æœ‰å¯¹åº”çš„çº¿ç¨‹ã€‚ å½“ js ä»£ç åŒæ­¥æ‰§è¡Œæ—¶ï¼Œ é‡åˆ°éžå¸¸è€—æ—¶çš„æ“ä½œå¯èƒ½å°±ä¼šé˜»å¡žï¼Œä½“çŽ°åœ¨é¡µé¢ä¸Šå°±æ˜¯å¡é¡¿ä»¥åŠä¸èƒ½äº¤äº’ç­‰ã€‚ ä¸ºæ­¤ js å¼•å…¥äº†å¼‚æ­¥çš„æ¦‚å¿µã€‚ å¼‚æ­¥å½“æ‰§è¡Œ js è¿‡ç¨‹ä¸­é‡åˆ°æ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ—¶ï¼Œ js ä¼šé‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼ï¼Œ æ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œå®šæ—¶å™¨ç­‰ã€‚å½“å‘å‡ºè¯·æ±‚æˆ–è€…è°ƒç”¨å®šæ—¶å™¨åŽï¼Œä¸ä¼šé˜»å¡žå½“å‰ä»£ç æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šå¾€åŽç»§ç»­æ‰§è¡Œï¼Œ æœ€ç»ˆå½“ç½‘ç»œè¯·æ±‚æ•°æ®å›žæ¥åŽï¼Œæˆ–è€…å®šæ—¶å™¨è®¡æ—¶å®Œæ¯•åŽï¼Œä¼šè°ƒç”¨äº‹å…ˆä¼ å…¥çš„å›žè°ƒå‡½æ•°ã€‚ ä¸¾ä¸ªä¾‹å­: 123456789function a() &#123; console.log('1') setTimeout(() =&gt; &#123; console.log('2') &#125;, 1000) console.log('3')&#125;a(); // ä¾æ¬¡æ‰“å° 1 - 3 - 2 å¯ä»¥çœ‹åˆ°ï¼Œ æ‰“å°å¹¶ä¸æ˜¯ä¾æ¬¡æŒ‰ç…§ä»£ç çš„é¡ºåºæ‰“å°çš„ï¼Œ è€Œä¸”å®šæ—¶å™¨ä¹Ÿå¹¶æ²¡æœ‰é˜»å¡žåŽé¢çš„æ‰“å°ï¼Œè€Œæ˜¯åœ¨æ‰“å°äº† 3 ä¹‹åŽï¼Œ ä¸€ç§’è®¡æ—¶åˆ°äº†å†æ‰“å°çš„ 2 ä½†æ˜¯ js æ˜¯å•çº¿ç¨‹çš„ï¼Œ åˆæ˜¯æ€Žä¹ˆå®žçŽ°çš„å¼‚æ­¥å‘¢ï¼Ÿ å› ä¸º js ä¼šç»´æŠ¤ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ— ï¼ˆtask queueï¼‰ã€‚ å¼‚æ­¥ä»»åŠ¡æœ‰äº†ç»“æžœåŽä¼šä¾æ¬¡å­˜å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œä»£ç å¤„äºŽç©ºé—²çŠ¶æ€æ—¶ï¼Œå°±ä¼šä»Žä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºäº‹ä»¶ï¼Œæ‰§è¡Œå¯¹åº”çš„å›žè°ƒå‡½æ•°ã€‚ä¸»çº¿ç¨‹ä¸ºç©ºæ—¶ä¼šé‡å¤çš„æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œå¦‚æžœæœ‰ä¼šå–å‡ºåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè¿™ä¸ªé‡å¤æ‰§è¡Œçš„è¿‡ç¨‹å°±å«åš äº‹ä»¶å¾ªçŽ¯. ps: å¦‚ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰å®šæ—¶ä»»åŠ¡æ—¶ï¼Œ ä¼šç­‰åˆ°å®šæ—¶æ—¶é—´åˆ°åŽæ‰ä¼šå–å‡ºåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ ä»»åŠ¡é˜Ÿåˆ— ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸º å®ä»»åŠ¡é˜Ÿåˆ—(macro task) å’Œ å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆmicro taskï¼‰, åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¸­ï¼Œä¼˜å…ˆæ‰§è¡Œå®Œæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œ æŽ¥ç€æ‰æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ— ä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¼šæ‰§è¡Œä¸€æ¬¡ä»Žå®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºçš„äº‹ä»¶ä»¥åŠå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„å¾®ä»»åŠ¡ å®ä»»åŠ¡ ï¼ˆå¤–éƒ¨é˜Ÿåˆ—ï¼‰ å®šæ—¶å™¨ äº‹ä»¶ç»‘å®š ajax Nodeä¸­fså¯ä»¥è¿›è¡Œå¼‚æ­¥çš„I/Oæ“ä½œ â€¦â€¦ å¾®ä»»åŠ¡ ï¼ˆjs å†…éƒ¨é˜Ÿåˆ—ï¼‰ Promise(async/await) process.nextTick ï¼ˆnodeä¸­å®žçŽ°çš„apiï¼ŒæŠŠå½“å‰ä»»åŠ¡æ”¾åˆ°ä¸»æ ˆæœ€åŽæ‰§è¡Œï¼Œå½“ä¸»æ ˆæ‰§è¡Œå®Œï¼Œå…ˆæ‰§è¡ŒnextTickï¼Œå†åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰¾ï¼‰ â€¦â€¦ Node.js ä¸­çš„ä»»åŠ¡é˜Ÿåˆ— Node.js ä¸­çš„äº‹ä»¶å¾ªçŽ¯ã€ä»»åŠ¡é˜Ÿåˆ—å’Œæµè§ˆå™¨çŽ¯å¢ƒä¸­æœ‰äº›ä¸ä¸€æ ·ã€‚æµè§ˆå™¨ä¸­ä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¼šæ‰§è¡Œä¸€æ¬¡å®ä»»åŠ¡ï¼Œå¹¶å°†å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºå†æ‰§è¡Œé¡µé¢æ¸²æŸ“ã€‚Node.js ä¸­åˆ™æ˜¯ä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¼šå…ˆå°†å®ä»»åŠ¡ï¼ˆæ–‡ä»¶ã€IOï¼‰å…¨éƒ¨æ‰§è¡Œå®Œï¼Œå†æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚ ï¼ˆ11ç‰ˆæœ¬ä¹‹å‰ï¼‰ V11.x ç‰ˆæœ¬ä¹‹åŽè¿›è¡Œäº†ä¿®å¤ã€‚]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS new è¿ç®—ç¬¦çš„ä½¿ç”¨å’ŒåŽŸç†å‰–æž]]></title>
    <url>%2F2020%2F11%2F04%2FJS%20new%20%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%2F</url>
    <content type="text"><![CDATA[JS new è¿ç®—ç¬¦çš„ä½¿ç”¨å’ŒåŽŸç†å‰–æž new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»åž‹çš„å®žä¾‹æˆ–å…·æœ‰æž„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡ç±»åž‹ä¹‹ä¸€ newçš„åŸºæœ¬ä½¿ç”¨12345678910111213141516let fn = function(hobby) &#123; this.name = 'lili' this.age = 22 console.log('hobby is:', hobby)&#125;fn.prototype.say = function() &#123; console.log('hello')&#125;let person = new fn('guitar') // hobby is: guitarconsole.log(person.name); // liliconsole.log(person.age); // 22person.say() // hello å½“æž„é€ å‡½æ•° fn æœ‰è¿”å›žå€¼æ—¶123456789101112131415let fn = function() &#123; this.name = 'lili' this.age = 22 return &#123; sex: 'man', city: 'cq' &#125;&#125;let person = new fn() console.log(person.name); // undefinedconsole.log(person.age); // undefinedconsole.log(person.sex); // manconsole.log(person.city); // cq å½“æž„é€ å‡½æ•° fn è¿”å›žå€¼ä¸æ˜¯å¯¹è±¡æˆ–æ˜¯nullæ—¶12345678910111213141516171819202122let fn = function() &#123; this.name = 'lili' this.age = 22 return 'test'&#125;let person = new fn()console.log(person.name); // liliconsole.log(person.age); // 22// è¿”å›žnulllet fn = function() &#123; this.name = 'lili' this.age = 22 return null&#125;let person = new fn()console.log(person.name); // liliconsole.log(person.age); // 22 ä»Žä»¥ä¸Š new çš„ä½¿ç”¨ä¸­æˆ‘ä»¬å¯ä»¥æ€»ç»“å¦‚ä¸‹å‡ ç‚¹ï¼š newå‡ºçš„å®žä¾‹å°†ä¼šç»§æ‰¿æž„é€ å‡½æ•°çš„å±žæ€§å’Œæž„é€ å‡½æ•°åŽŸåž‹ä¸Šçš„å±žæ€§ å°†ä¼šè¿”å›žä¸€ä¸ªæ–°å¯¹è±¡ å¦‚æžœæž„é€ å‡½æ•°è¿”å›žæ–°çš„å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨å®žä¾‹ä¸­åªèƒ½è®¿é—®è¿”å›žçš„æ–°å¯¹è±¡ å¦‚æžœæž„é€ å‡½æ•°è¿”å›žåŸºæœ¬ç±»åž‹æˆ–è€…nullï¼Œé‚£ä¹ˆå®žä¾‹å¯ä»¥è®¿é—®æž„é€ å‡½æ•°ä¸­çš„å±žæ€§ é’ˆå¯¹å¦‚ä¸Šå‡ ç‚¹ï¼Œæˆ‘ä»¬å¼€å§‹å®žçŽ° new new çš„å®žçŽ°1234567891011121314151617181920212223let fn = function(hobby) &#123; this.name = 'lili' this.age = 22 console.log('hobby is:', hobby)&#125;fn.prototype.say = function() &#123; console.log('hello')&#125;let objFactory = function() &#123; let obj = new Object() Constructor = [].shift.call(arguments); // å–å‡ºç¬¬ä¸€ä¸ªå‚æ•°(æž„é€ å‡½æ•°) obj.__proto__ = Constructor.prototype; // å°†æž„é€ å‡½æ•°åŽŸåž‹æŒ‡å‘å®žä¾‹å¯¹è±¡åŽŸåž‹ let res = Constructor.apply(obj, arguments) // å°†æž„é€ å‡½æ•° this æŒ‡å‘å®žä¾‹å¯¹è±¡ï¼Œä»¥ä¾¿å®žä¾‹å¯¹è±¡å¯ä»¥è®¿é—®æž„é€ å‡½æ•°è‡ªèº«çš„å±žæ€§ return typeof res === 'object' ? res || obj : obj // å¦‚æžœæž„é€ å‡½æ•°è¿”å›žçš„æ˜¯å¯¹è±¡(éžnull), åˆ™è¿”å›žè¯¥å¯¹è±¡ï¼Œå¦åˆ™è¿”å›žobj&#125;let newFn = objFactory(fn, 'guitar') // hobby is: guitarconsole.log(newFn.name); // liliconsole.log(newFn.age); // 22newFn.say(); // hello]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS bindçš„ä½¿ç”¨å’Œå®žçŽ°åŽŸç†å‰–æž]]></title>
    <url>%2F2020%2F11%2F04%2FJS%20bind%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%2F</url>
    <content type="text"><![CDATA[JS bindçš„ä½¿ç”¨å’Œå®žçŽ°åŽŸç†å‰–æž123456789var obj = &#123;name: 'jeff'&#125;var fn = function(arg1, arg2) &#123; console.log('args==&gt;', [arg1, arg2], 'name==&gt;', this.name)&#125;var bindFn = fn.bind(obj, 'arg1') bindFn('arg2') // args==&gt; (2) ["arg1", "arg2"] name==&gt; jeff ä»¥ä¸Šæ˜¯bindçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯, ä»Žä¸Šé¢ä»£ç ä¸­å¯ä»¥å‘çŽ°bindä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä½œç”¨: æ”¹å˜äº†å‡½æ•°fnçš„ this æŒ‡å‘ï¼› é€šè¿‡bindå°†å‚æ•°ä¼ é€’ç»™å‡½æ•°fn è¿”å›žä¸€ä¸ªæ–°å‡½æ•° é€šè¿‡ fn.bind(obj, &#39;arg1&#39;) å°†å‡½æ•°fnçš„thisæŒ‡å‘objï¼Œ åŒæ—¶å°† â€˜arg1â€™ ä½œä¸º bind çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™å‡½æ•° fnï¼Œ å¹¶è¿”å›žæ–°å‡½æ•° bindFn ã€‚ æ­¤æ—¶è°ƒç”¨ bindFn å¹¶ä¼ å…¥å‚æ•°ä½œä¸º fn çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ‰§è¡Œç»“æžœä¾æ¬¡æ˜¯æ‰“å° arg1 ã€ arg2ã€jeff å®žçŽ°ä¸€ä¸ªbindå¦‚æžœè¦å®žçŽ°bindï¼Œ æˆ‘ä»¬æ ¹æ®å…¶ä½¿ç”¨æ–¹å¼æ€»ç»“å‡ºå¦‚ä¸‹å‡ ç‚¹ï¼š æ”¹å˜å‡½æ•° this çš„æŒ‡å‘ è¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•° å°†ä¼ ç»™ bind çš„å‚ä¼ é€’ç»™å‡½æ•° æ”¹å˜thisæŒ‡å‘å¹¶è¿”å›žæ–°å‡½æ•°123456789101112131415161718192021222324Function.prototype.mybind = function (context) &#123; var self = this; // èŽ·å–å‡½æ•°ä»Žç¬¬äºŒä¸ªå‚æ•°åˆ°æœ€åŽä¸€ä¸ªå‚æ•° var args = Array.prototype.slice.call(arguments, 1); return function () &#123; // è¿™ä¸ªæ—¶å€™çš„argumentsæ˜¯æŒ‡bindè¿”å›žçš„å‡½æ•°ä¼ å…¥çš„å‚æ•° var bindArgs = Array.prototype.slice.call(arguments); return self.apply(context, args.concat(bindArgs)); &#125;&#125;var obj = &#123;name: 'zzw'&#125;var fn = function(arg1, arg2) &#123; console.log(this.name, 'args==&gt;', arg1, arg2)&#125;// ä½¿ç”¨ mybindç»‘å®šå‡½æ•° fn åˆ° objå¯¹è±¡ å¹¶ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•° 'firstarg' ç»™å‡½æ•° var bindFn = fn.mybind(obj, 'firstarg')// è°ƒç”¨è¿”å›žçš„å‡½æ•° bindFnï¼Œ å¹¶ä¼ å…¥å‚æ•° 'secondarg'bindFn(); // zzwargs==&gt;firstargsecondarg ! â€“&gt; bind è¿”å›žçš„å‡½æ•°ä¸ä»…å¯ä»¥ç›´æŽ¥æ‰§è¡Œï¼Œ è¿˜å¯ä»¥ç”¨ä½œæž„é€ å‡½æ•°ï¼ŒåŒæ—¶è¿˜èƒ½ä¼ é€’å‚æ•°ï¼Œä¾‹å¦‚ 12345678910111213141516let obj = &#123;name: 'zzz'&#125;var fn = function(arg1, arg2) &#123; console.log(this.name) console.log(arg1) console.log(arg2)&#125; fn.prototype.age = 20var bindFn = fn.bind(obj)// è°ƒç”¨ newæ—¶, bind çš„ thisä¼šå¤±æ•ˆ. ä¼ å…¥çš„å‚æ•°var newFn = new bindFn('argnew') // undefined argnew undefinedconsole.log(newFn.age) // 20 æˆ‘ä»¬é’ˆå¯¹è¿™ä¸ªé—®é¢˜å¯¹ä¹‹å‰çš„ mybind å‡½æ•°è¿›è¡Œä¸€ä¸‹ä¼˜åŒ– å¦‚æžœè°ƒç”¨æž„é€ å‡½æ•°çš„è¯ï¼Œ thisä¼šæŒ‡å‘æž„é€ å‡ºæ¥çš„å¯¹è±¡ï¼Œ å¯¹åº”ä¸Šé¢çš„å°±æ˜¯ newFn 12345678910111213141516171819202122232425262728293031323334Function.prototype.mybind = function (context) &#123; var self = this; // èŽ·å–å‡½æ•°ä»Žç¬¬äºŒä¸ªå‚æ•°åˆ°æœ€åŽä¸€ä¸ªå‚æ•° var args = Array.prototype.slice.call(arguments, 1); var fBound = function () &#123; // è¿™ä¸ªæ—¶å€™çš„argumentsæ˜¯æŒ‡bindè¿”å›žçš„å‡½æ•°ä¼ å…¥çš„å‚æ•° var bindArgs = Array.prototype.slice.call(arguments); // å¦‚æžœthisæŒ‡å‘fBoundï¼Œåˆ™ä½œä¸ºæž„é€ å‡½æ•°æŒ‡å‘æœ¬èº«ï¼Œ å¦‚æžœä¸æ˜¯åˆ™ä½œä¸ºæ™®é€šå‡½æ•°æŒ‡å‘è¦ç»‘å®šçš„å¯¹è±¡ return self.apply(this instanceof fBound ? this : context, args.concat(bindArgs)); &#125; // ç»§æ‰¿ ç»‘å®šå‡½æ•° çš„åŽŸåž‹ fBound.prototype = this.prototype return fBound&#125;// !ä¼˜åŒ–ä¸€ä¸‹ â¬‡ï¸â¬‡ï¸ é˜²æ­¢ä¿®æ”¹åŽŸåž‹æ—¶å°†åŽŸå‡½æ•°åŽŸåž‹å½±å“äº†Function.prototype.mybind = function (context) &#123; var self = this; // èŽ·å–å‡½æ•°ä»Žç¬¬äºŒä¸ªå‚æ•°åˆ°æœ€åŽä¸€ä¸ªå‚æ•° var args = Array.prototype.slice.call(arguments, 1); var fNOP = function () &#123;&#125;; var fBound = function () &#123; // è¿™ä¸ªæ—¶å€™çš„argumentsæ˜¯æŒ‡bindè¿”å›žçš„å‡½æ•°ä¼ å…¥çš„å‚æ•° var bindArgs = Array.prototype.slice.call(arguments); return self.apply(this instanceof fBound ? this : context, args.concat(bindArgs)); &#125; // ç»§æ‰¿ç»‘å®šå‡½æ•°çš„åŽŸåž‹ fNOP.prototype = this.prototype; fBound.prototype = new fNOP(); return fBound&#125;]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS callã€applyçš„ä½¿ç”¨å’Œå‰–æž]]></title>
    <url>%2F2020%2F11%2F04%2Fjs%20%20%20Call%E3%80%81Apply%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%89%96%E6%9E%90%2F</url>
    <content type="text"><![CDATA[JS callã€applyçš„ä½¿ç”¨å’Œå‰–æžcallç”¨æ³•1234567let obj = &#123;name: 'chou'&#125;let fn = function(first, last) &#123; console.log(this.name + first + last)&#125;fn.call(obj, 'first', 'last') // choufirstlast é€šè¿‡è°ƒç”¨callæ–¹æ³•ï¼Œå°†å‡½æ•°fnçš„thisæŒ‡å‘ä¼ ç»™callçš„ç¬¬ä¸€ä¸ªå‚æ•°objï¼ŒåŒæ—¶å°†callæ–¹æ³•çš„ç¬¬äºŒã€ç¬¬ä¸‰â€¦â€¦ä¸ªå‚æ•°ä½œä¸ºfnå‡½æ•°çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚ fnå‡½æ•°çš„thisä¼šæŒ‡å‘objï¼Œè¿™æ ·this.nameå°±æ˜¯objä¸­çš„nameå±žæ€§ï¼Œfnçš„å‚æ•°ä¹Ÿå°±æ˜¯callä¼ å…¥çš„å‚æ•°ã€‚ éœ€è¦æ³¨æ„âš ï¸ï¼š1. è°ƒç”¨callæ–¹æ³•åŽï¼Œfnå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚ â€‹ 2. callæ–¹æ³•ä¼ å…¥å‡½æ•°å‚æ•°çš„æ–¹å¼æ˜¯é€šè¿‡å‚æ•°åˆ—è¡¨ä¼ å…¥ï¼Œä¸ŽåŽé¢applyé€šè¿‡æ•°ç»„æ–¹å¼è¿™ç‚¹ä¸åŒã€‚ ç”¨é€” æœ€å¸¸è§çš„ç”¨é€”å°±æ˜¯æ”¹å˜è°ƒç”¨å‡½æ•°thisçš„æŒ‡å‘ ç«‹å³è°ƒç”¨å‡½æ•° (ä»€ä¹ˆå‚æ•°éƒ½ä¸ä¼ ) å€Ÿç”¨åˆ«çš„å¯¹è±¡çš„å±žæ€§æˆ–æ–¹æ³• å®žçŽ°æ€è·¯ï¼š callçš„åŽŸç†æ˜¯æ”¹å˜å‡½æ•°thisæŒ‡å‘ï¼Œå¹¶ä¼ å…¥å‚æ•°ï¼Œç„¶åŽç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é¡ºç€è¿™ä¸ªæ€è·¯å°†è¦æ”¹å˜thisæŒ‡å‘çš„å‡½æ•°æŒ‚è½½åˆ°è¦æŒ‡å‘çš„å¯¹è±¡ä¸Šï¼Œç„¶åŽä¼ å…¥å‚æ•°å¹¶æ‰§è¡Œ(å› ä¸ºè°ƒç”¨callåŽä¼šç«‹å³æ‰§è¡Œ)ã€‚ 12345678910111213141516171819Function.prototype.mycall = function(context) &#123; if (typeof this !== 'function') &#123; throw new TypeError('not funciton') &#125; context = context || window context.fn = this // è¦æ‰§è¡Œçš„å‡½æ•° eg: fn.call(this) let arg = [...arguments].slice(1) // callä¼ å…¥çš„å‚æ•° [this,1,2,3,4] ===&gt; [1,2,3,4] let result = context.fn(...arg) // ä¼ å…¥å‚æ•°ç»™fnï¼Œæ‰§è¡Œå‡½æ•° delete context.fn return result&#125;let obj = &#123;name: 'chou'&#125;let fn = function(first, last) &#123; console.log(this.name + first + last)&#125;fn.mycall(obj, 'first', 'last') // choufirstlast applyç”¨æ³•applyçš„ç”¨æ³•å’Œcallå‡ ä¹Žä¸€æ‘¸ä¸€æ ·ï¼Œåªæ˜¯ä¼ å…¥å‚æ•°çš„æ–¹å¼ä¸ä¸€æ · 1234567let obj = &#123;name: 'chou'&#125;let fn = function(first, last) &#123; console.log(this.name + first + last)&#125;fn.apply(obj, ['first', 'last']) // choufirstlast applyä¼ ç»™å‡½æ•°fnå‚æ•°æ˜¯é€šè¿‡ä¼ å…¥ä¸€ä¸ªæ•°ç»„çš„æ–¹å¼ï¼Œå…¶ä»–æ–¹é¢å’Œcallä¸€æ‘¸ä¸€æ ·ã€‚ å…·ä½“è§£é‡Šå‚è€ƒcall ç”¨é€” æœ€å¸¸è§çš„ç”¨é€”å°±æ˜¯æ”¹å˜è°ƒç”¨å‡½æ•°thisçš„æŒ‡å‘ ç«‹å³è°ƒç”¨å‡½æ•° (ä»€ä¹ˆå‚æ•°éƒ½ä¸ä¼ ) å€Ÿç”¨åˆ«çš„å¯¹è±¡çš„å±žæ€§æˆ–æ–¹æ³• å®žçŽ°æ€è·¯ï¼š applyçš„å®žçŽ°å’Œcallå¤„ç†å‡ ä¹Žä¸€æ ·ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯å‚æ•°çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦é’ˆå¯¹apply(this, params) ç€é‡paramsçš„å¤„ç†å°±è¡Œäº†ã€‚ 12345678910111213141516171819Function.prototype.myapply = function(context) &#123; if (typeof this !== 'function') &#123; throw new TypeError('not funciton') &#125; context = context || window context.fn = this // è¦æ‰§è¡Œçš„å‡½æ•° eg: fn.call(this) let arg = [...arguments][1] // callä¼ å…¥çš„å‚æ•° [this, [1,2,3,4]] =====&gt; [1,2,3,4] let result = context.fn(...arg) // ä¼ å…¥å‚æ•°ç»™fnï¼Œæ‰§è¡Œå‡½æ•° delete context.fn return result&#125;let obj = &#123;name: 'chou'&#125;let fn = function(first, last) &#123; console.log(this.name + first + last)&#125;fn.myapply(obj, ['first', 'last']) // choufirstlast æ€»ç»“ç›¸åŒç‚¹ éƒ½æ˜¯æ”¹å˜å‡½æ•°thisæŒ‡å‘ éƒ½æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•° ä¸åŒç‚¹ call ä¼ å…¥å‚æ•°æ˜¯é€šè¿‡å‚æ•°åˆ—è¡¨æ–¹å¼ä¼ å…¥ (fn.call(this,a1,a2,a3)) ï¼Œ applyä¼ å…¥å‚æ•°æ˜¯é€šè¿‡æ•°ç»„æ–¹å¼ä¼ å…¥ (fn.apply(this,[a1,a2,a3]))]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[js çš„æµ…æ‹·è´å’Œæ·±æ‹·è´]]></title>
    <url>%2F2020%2F11%2F04%2Fjs%20%E7%9A%84%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D%2F</url>
    <content type="text"><![CDATA[js çš„æµ…æ‹·è´å’Œæ·±æ‹·è´æ·±ã€æµ…æ‹·è´çš„åŒºåˆ« æµ…æ‹·è´åªèƒ½æ‹·è´å¯¹è±¡ç¬¬ä¸€å±‚ï¼Œå¦‚æžœå¯¹è±¡ä¹‹ä¸­è¿˜åµŒå¥—æœ‰å¯¹è±¡åˆ™ä¸èƒ½å®žçŽ°æ·±å±‚å¯¹è±¡çš„æ‹·è´ æ·±æ‹·è´å¯ä»¥å®žçŽ°å¯¹è±¡æ·±å±‚æ¬¡çš„æ‹·è´ï¼Œæ€Žæ ·ä¿®æ”¹æ‹·è´åŽçš„å¯¹è±¡ï¼ŒåŽŸå¯¹è±¡éƒ½ä¸ä¼šæ”¹å˜ æµ…æ‹·è´123456789101112131415161718// å®žçŽ°function clone(obj) &#123; let obj2 = Array.isArray(obj) ? [] : &#123;&#125; if(obj &amp;&amp; typeof obj === 'object') &#123; for(let item in obj) &#123; obj2[item] = obj[item] &#125; &#125; else &#123; obj2 = obj &#125; return obj2&#125;// ä½¿ç”¨let obj1 = &#123;a: 1, b: &#123;c: 123&#125;&#125;let obj2 = clone(obj1)obj2.b.c = 6666obj1.b.c // 6666 ä¿®æ”¹æ‹·è´å¯¹è±¡åŽï¼ŒåŽŸå¯¹è±¡æ·±å±‚çš„å¯¹è±¡è¿˜æ˜¯æ”¹å˜äº† æ·±æ‹·è´123456789101112131415161718// å®žçŽ°function deepClone(obj) &#123; let obj2 = Array.isArray(obj) ? [] : &#123;&#125; if(obj &amp;&amp; typeof obj === 'object') &#123; for(let item in obj) &#123; obj2[item] = deepClone(obj[item]) // é€’å½’éåŽ†å±žæ€§æ˜¯å¦ä¸ºå¯¹è±¡ &#125; &#125; else &#123; obj2 = obj &#125; return obj2&#125;// ä½¿ç”¨let obj1 = &#123;a: 1, b: &#123;c: 123&#125;&#125;let obj2 = clone(obj1)obj2.b.c = 6666obj1.b.c // 123 ä¿®æ”¹æ‹·è´å¯¹è±¡åŽï¼ŒåŽŸå¯¹è±¡æ·±å±‚çš„å¯¹è±¡æ²¡æœ‰æ”¹å˜ï¼Œè¯´æ˜Žå¯¹æ·±å±‚çš„å¯¹è±¡ä¹Ÿè¿›è¡Œäº†æ‹·è´]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Js å¦‚ä½•å®žçŽ°å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡]]></title>
    <url>%2F2020%2F11%2F04%2FJs%20%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E5%8F%AA%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%2F</url>
    <content type="text"><![CDATA[Js å¦‚ä½•å®žçŽ°å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡æœ‰æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°æŸä¸ªå‡½æ•°åœ¨å¤šæ¬¡æ‰§è¡Œä¸­åªè¿è¡Œä¸€æ¬¡çš„æƒ…å†µï¼Œé‚£ä¹ˆå¦‚ä½•å®žçŽ°å‘¢ï¼Ÿ ä¸‹é¢ç›´æŽ¥ä¸Šä»£ç  12345678910let once = function(fn) &#123; let caller = true; return function() &#123; if(caller) &#123; caller = false fn.apply(this, arguments) &#125; &#125; &#125; é€šè¿‡è°ƒç”¨ä¸Šé¢çš„å‡½æ•° 12345678910111213let onlyOneFn = once(function() &#123; console.log('once')&#125;)function runLoopFn() &#123; let i = 100 while(i--) &#123; console.log('loop run') onlyOneFn() &#125;&#125;runLoopFn() // once * 1 loop run * 100 ä¸Šé¢çš„æ‰§è¡Œç»“æžœå¯ä»¥çœ‹å‡ºï¼Œ å¾ªçŽ¯æ‰§è¡Œ100æ¬¡ï¼Œ æ‰“å°äº†100æ¬¡ loop runï¼Œ ä½†æ˜¯åªæ‰§è¡Œäº†ä¸€æ¬¡æ‰“å° once é€šè¿‡å°è£…çš„once å‡½æ•°ï¼Œ åˆ©ç”¨é—­åŒ…æˆ‘ä»¬å¯ä»¥å®žçŽ°å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡.]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[less ä½¿ç”¨æ€»ç»“]]></title>
    <url>%2F2020%2F11%2F04%2Fless%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[less ç¬”è®°ðŸ“’å˜é‡1234@color: red;.a &#123; color: @color;&#125; å˜é‡é€‰æ‹©å™¨1234567891011@my-selector: swipper;.@&#123;my-selector&#125;-list &#123; color: red;&#125;// è½¬æ¢æˆ.swipper-list &#123; color: red;&#125; Properties12345678910@my-propertity: width;.block &#123; @&#123;my-propertity&#125;: 10px;&#125;// è½¬æ¢æˆ.block &#123; width: 10px;&#125; ç”¨å˜é‡ä»£æ›¿æˆ–æ‹¼æŽ¥æ ·å¼å±žæ€§å ç”¨å˜é‡å®šä¹‰å˜é‡å123456@danger: red;.font &#123; @color: @danger; color: @@color;&#125; Properties as Variables12345@color: red;.bg &#123; color: @color; // red background-color: $color; // red&#125; åˆ©ç”¨å±žæ€§ååšä¸ºå˜é‡å°†å±žæ€§å€¼ä¼ é€’è¿‡åŽ» é€»è¾‘å‡½æ•°12345678.main &#123; color: if(boolean(true) , red, yellow)&#125;// è½¬æ¢æˆ.main &#123; color: red;&#125; list functions åˆ—è¡¨å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// length (è¿”å›žåˆ—è¡¨é•¿åº¦)@my-list: nav, bar;@len: length(@my-list);.w &#123; width: e("@&#123;len&#125;px"); // eå‡½æ•°ä½œç”¨æ˜¯åŽ»æŽ‰å¼•å·&#125;// ==&gt; è½¬æ¢æˆ.w &#123; width: 2px;&#125;// extract (è¿”å›žåˆ—è¡¨ä¸­æŒ‡å®šä½ç½®å…ƒç´ )@list-idx: 10px, 20px, 30px, 40px;.l &#123; width: extract(@list-idx, 2); &#125;// ====&gt; è½¬æ¢æˆ.l &#123; width: 20px;&#125;// range(åˆ›å»ºä¸€ä¸ªèŒƒå›´çš„åˆ—è¡¨)@values: range(0, 100px, 20px);.w &#123; border: @values;&#125;// =====&gt; è½¬æ¢æˆåŽ.w &#123; border: 0px 20px 40px 60px 80px 100px;&#125;// each(éåŽ†åˆ—è¡¨ï¼Œç”Ÿæˆç»‘å®šçš„æ¯ä¸ªæ ·å¼ç±»)@myList: left, top, right, bottom;each(@myList, &#123; .my-p &#123; position: absolute; @&#123;value&#125;: 0; &#125;&#125;)// =====&gt; è½¬æ¢æˆ.my-p &#123; position: absolute; left: 0;&#125;.my-p &#123; position: absolute; top: 0;&#125;.my-p &#123; position: absolute; right: 0;&#125;.my-p &#123; position: absolute; bottom: 0;&#125; å¾ªçŽ¯è¾“å‡º1234567891011121314151617181920212223242526272829303132333435// eg: æƒ³è¾“å‡ºå¦‚ä¸‹çš„æ ·å¼.block-a &#123; color: a;&#125;.block-b &#123; color: b;&#125;// å®žçŽ°@colors: a,b,c,d;// å®šä¹‰å‡½æ•°.blockCreater(@name, @color) &#123; .block-@&#123;name&#125; &#123; color: @color; &#125;&#125;// å¾ªçŽ¯ç”Ÿæˆ.loop(@i) when (@i &lt; length(@colors)+1)&#123; .blockCreater(extract(@colors, @i),extract(@colors, @i)); .loop(@i+1);&#125;.loop(1);// ====&gt; è½¬æ¢æˆ.block-a &#123; color: a;&#125;.block-b &#123; color: b;&#125;.block-c &#123; color: c;&#125;.block-d &#123; color: d;&#125;]]></content>
      <categories>
        <category>less</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[css3 æ°´ä½å›¾æ³¢çº¹åŠ¨æ•ˆ]]></title>
    <url>%2F2020%2F07%2F20%2F%E6%B0%B4%E6%B3%A2%E7%BA%B9%E5%8A%A8%E6%95%88%2F</url>
    <content type="text"><![CDATA[æ°´æ³¢çº¹åŠ¨æ•ˆç›´æŽ¥ä¸Šä»£ç  é€šè¿‡é®ç½©å’ŒåŠ¨ç”»å®žçŽ°æ°´ä½å›¾æ³¢çº¹ç‰¹æ•ˆ å¯ä»¥é€šè¿‡è¾“å…¥0-100çš„æ•°å­—æˆ–è€… æ‹–åŠ¨æ»‘åŠ¨æ¡è°ƒèŠ‚æ°´ä½çš„é«˜ä½Ž (é€šè¿‡ä¿®æ”¹wave-maskçš„top) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; * &#123; box-sizing: border-box; padding: 0; margin: 0; &#125; .container &#123; display: flex; justify-content: center; align-items: center; border-radius: 50%; border: 3px solid #67c23a; background: #ffffff; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 7px 7px; overflow: hidden; &#125; .wave &#123; position: relative; width: 100px; height: 100px; background-image: linear-gradient(-180deg, #aaff80 13%, #67c23a 91%); border-radius: 50%; box-shadow: 1px 3px 3px 0 rgba(139, 139, 139, 0.822); &#125; .wave-mask &#123; position: absolute; width: 200px; height: 200px; top: 100%; left: 50%; border-radius: 39%; background-color: white; transform: translate(-50%, -100%) rotate(0); animation: toRotate 10s linear infinite; z-index: 20; &#125; @keyframes toRotate &#123; 50% &#123; transform: translate(-50%, -100%) rotate(180deg); &#125; 100% &#123; transform: translate(-50%, -100%) rotate(360deg); &#125; &#125; .tips &#123; position: absolute; top: 50%; left: 50%; width: 50px; height: 50px; transform: translate(-25px, -25px); text-align: center; line-height: 50px; z-index: 30; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="container"&gt; &lt;div class="wave"&gt;&lt;/div&gt; &lt;div class="wave-mask"&gt;&lt;/div&gt; &lt;div class="tips"&gt;0%&lt;/div&gt; &lt;/div&gt; &lt;div style="display: flex; justify-content: center; align-items: center; margin-top: 200px;"&gt; &lt;input type="number" step="5"&gt; &lt;button style="margin-left: 20px;" id="btn"&gt;æŒ‰é’®&lt;/button&gt; &lt;input style="margin-left: 40px;" id="range" type="range" min="0" max="100" step="5" value="0" /&gt; &lt;/div&gt; &lt;script&gt; let btn = document.getElementById('btn') let mask = document.getElementsByClassName('wave-mask')[0] let ipt = document.getElementsByTagName('input')[0] let tips = document.getElementsByClassName('tips')[0] let range = document.getElementById('range') btn.onclick = function(e) &#123; let value = (100 - +ipt.value) mask.style.top = value + '%' tips.innerHTML = ipt.value + '%' &#125; range.onchange = function(e) &#123; let value = (100 - +e.target.value) mask.style.top = value + '%' tips.innerHTML = e.target.value + '%' &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹å­¦ä¹ Vueæºç  â€”â€”å“åº”å¼åŸºæœ¬åŽŸç†]]></title>
    <url>%2F2020%2F07%2F01%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0Vue%E6%BA%90%E7%A0%81(%E4%BA%8C)%20%E2%80%94%E2%80%94%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[ä»Žé›¶å¼€å§‹å­¦ä¹ Vueæºç  â€”â€”å“åº”å¼åŸºæœ¬åŽŸç†è¿™é‡Œå®žçŽ°ä¸€ä¸ªç®€æ˜“ç‰ˆæœ¬çš„å“åº”å¼ç³»ç»Ÿæ¥å½¢è±¡çš„ç†è§£æ•°æ®æ˜¯å¦‚ä½•åœ¨åˆå§‹åŒ–çš„æ—¶å€™è¢«åŠ«æŒï¼Œä»¥åŠå¦‚ä½•åœ¨ä¿®æ”¹æ—¶æ›´æ–°è§†å›¾çš„ã€‚é¦–å…ˆçœ‹ä¸‹Vue2.xå®žçŽ°å“åº”å¼ç³»ç»Ÿæœ€é‡è¦çš„æ–¹æ³•Object.defineProperty, Vue2.xå°±æ˜¯åŸºäºŽå®ƒå®žçŽ°çš„å“åº”å¼ 12345678/* obj: ç›®æ ‡å¯¹è±¡ prop: éœ€è¦æ“ä½œçš„ç›®æ ‡å¯¹è±¡çš„å±žæ€§å descriptor: æè¿°ç¬¦ return value ä¼ å…¥å¯¹è±¡*/Object.defineProperty(obj, prop, descriptor) å…·ä½“çš„å±žæ€§ä»¥åŠä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒMDN ä¸‹é¢è´´ä¸€ä¸ªç®€æ˜“ç‰ˆå“åº”å¼çš„ä»£ç å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// æ›´æ–°è§†å›¾æ—¶è°ƒç”¨function cb (val) &#123; /* æ¸²æŸ“è§†å›¾ */ console.log("è§†å›¾æ›´æ–°å•¦ï½ž");&#125;// å¯¹å¯¹è±¡ä¸­æŸä¸ªå±žæ€§è¿›è¡Œæ•°æ®åŠ«æŒfunction defineReactive (obj, key, val) &#123; Object.defineProperty(obj, key, &#123; enumerable: true, /* å±žæ€§å¯æžšä¸¾ */ configurable: true, /* å±žæ€§å¯è¢«ä¿®æ”¹æˆ–åˆ é™¤ */ get: function reactiveGetter () &#123; return val; /* å®žé™…ä¸Šä¼šä¾èµ–æ”¶é›† */ &#125;, set: function reactiveSetter (newVal) &#123; if (newVal === val) return; cb(newVal); &#125; &#125;);&#125;// éåŽ†å¯¹è±¡æ‰€æœ‰å±žæ€§ï¼Œè¿›è¡Œæ•°æ®åŠ«æŒfunction observer (value) &#123; if (!value || (typeof value !== 'object')) &#123; return; &#125; Object.keys(value).forEach((key) =&gt; &#123; if(typeof value[key] === 'object') &#123; observer(value[key]) // é€’å½’éåŽ†æ·±å±‚æ¬¡å±žæ€§ &#125; defineReactive(value, key, value[key]); &#125;);&#125;class Vue &#123; constructor(options) &#123; this._data = option.data observer(this._data); &#125;&#125;const vm = new Vue(&#123; data: &#123; name: &#123;firstName: 'z', lastName: 'zz'&#125; &#125;&#125;)vm._data.name.firstName = 'cc' // æ­¤æ—¶ä¼šæ‰“å° è§†å›¾æ›´æ–°å•¦ï½ž ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥è§£æžä»¥ä¸Šç®€æ˜“ç‰ˆå“åº”å¼ç³»ç»ŸåŽŸç† é¦–å…ˆæˆ‘ä»¬è¦å®žçŽ°ä¸€ä¸ªå¯¹å¯¹è±¡å±žæ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œè·Ÿè¸ªå±žæ€§æ›´æ–°çš„å‡½æ•° defineReactive ï¼Œ è¯¥å‡½æ•°ä½¿ç”¨äº† Object.defineProperty è¿›è¡Œæ•°æ®åŠ«æŒ, è¢«è®¾ç½®çš„å±žæ€§ä¼šåœ¨è¯»å–æ—¶è§¦å‘ getter, ä¼šåœ¨è®¾ç½®æ—¶è§¦å‘ setter æ‰§è¡Œé‡Œé¢æ›´æ–°è§†å›¾çš„å‡½æ•° cb æ‰“å°å‡º è§†å›¾æ›´æ–°å•¦ï½ž åªæœ‰ä¸€ä¸ªdefineReactiveè¿˜ä¸å¤Ÿï¼Œ æˆ‘ä»¬è¿˜éœ€è¦å®žçŽ°ä¸€ä¸ª observer æ¥å¯¹å¯¹è±¡æ‰€æœ‰å±žæ€§éåŽ†ã€é€’å½’è¿›è¡Œç»‘å®š, è¿™æ ·å¯¹è±¡ä¸Šæ‰€æœ‰å±žæ€§ä¿®æ”¹æ—¶éƒ½ä¼šè§¦å‘getter ã€ setterã€‚ æœ€åŽæˆ‘ä»¬æž„å»ºä¸€ä¸ªVue çš„classç±»ï¼Œ åœ¨æž„é€ å‡½æ•°ä¸­åˆå§‹åŒ–dataï¼Œå¹¶è¿›è¡Œ[å“åº”å¼] åŒ– å½“å®žä¾‹åŒ–VueåŽï¼Œæˆ‘ä»¬ä¿®æ”¹_dataä¸Šçš„å€¼å°±ä¼šè§¦å‘setter æ›´æ–°è§†å›¾ æ€»ç»“å“åº”å¼ç³»ç»Ÿæœ€é‡è¦çš„å°±æ˜¯æ•°æ®åŠ«æŒéƒ¨åˆ†ï¼Œå½“ç„¶è¿™é‡Œåªæ˜¯ä¸€ä¸ªç®€å•çš„å®žçŽ°ï¼Œåƒæ•°ç»„å¯¹è±¡ç­‰éƒ½æ²¡å¤„ç†ï¼Œä¸è¿‡èƒ½é€šè¿‡è¿™ä¸ªdemoäº†è§£ç›¸åº”å¼çš„åŸºæœ¬åŽŸç†ã€‚]]></content>
      <categories>
        <category>javascript</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶å¼€å§‹å­¦ä¹ Vueæºç  â€”â€” æ¦‚è§ˆ]]></title>
    <url>%2F2020%2F07%2F01%2F%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0Vue%E6%BA%90%E7%A0%81(%E4%B8%80)%20%E2%80%94%E2%80%94%20%E6%A6%82%E8%A7%88%2F</url>
    <content type="text"><![CDATA[ä»Žé›¶å¼€å§‹å­¦ä¹ Vueæºç  â€”â€” æ¦‚è§ˆå…ˆä¸Šä¸€å¼ å›¾ ä»¥ä¸Šæµç¨‹åŒ…æ‹¬äº†ä»Žï¼š åˆå§‹åŒ– â€”â€” æŒ‚è½½ â€”â€” è§£æžæ¨¡ç‰ˆ â€”â€” ç”Ÿæˆæ¸²æŸ“å‡½æ•° â€”â€” render functionè½¬æ¢ä¸ºVNodeèŠ‚ç‚¹æœ€ç»ˆå½¢æˆVirtual Dom Tree â€”â€” virtual dom treeè½¬åŒ–ä¸ºçœŸå®žDomèŠ‚ç‚¹ä»Žè€Œæ¸²æŸ“è§†å›¾ å“åº”å¼æ›´æ–°åŒ…æ‹¬äº†: åœ¨initæ—¶è¿›è¡Œäº†Object.defineProperty çš„ç»‘å®š â€”â€” render functionæ¸²æŸ“è¯»å–å€¼ï¼Œè§¦å‘getterå‡½æ•° â€”â€” è¿›è¡Œä¾èµ–æ”¶é›† â€”â€” ä¿®æ”¹å¯¹è±¡å€¼è§¦å‘setterå‡½æ•° â€”â€” é€šçŸ¥[ä¾èµ–æ”¶é›†]ä¸­Depçš„æ¯ä¸ª watcher å€¼å˜åŒ–äº†ï¼Œéœ€è¦æ›´æ–°è§†å›¾ â€”â€” watcherè°ƒç”¨ updateæ¥æ›´æ–°è§†å›¾ â€”â€” å°†æ–°ã€æ—§VNodeä¼ å…¥patchè¿›è¡Œdiffæ¯”è¾ƒï¼Œåªä¿®æ”¹æ¯”è¾ƒå¾—å‡ºçš„å·®å¼‚çš„éƒ¨åˆ†Dom initåœ¨ new Vue() ä¹‹åŽï¼Œ ä¼šè¿›è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…æ‹¬åˆå§‹åŒ– ç”Ÿå‘½å‘¨æœŸ ã€ äº‹ä»¶ã€props ã€ methods ã€ data ã€ computed ã€ watch ç­‰ã€‚ æœ€é‡è¦çš„æ˜¯è¿›è¡Œ Object.defineProperty çš„ç»‘å®šï¼Œç”¨äºŽå®žçŽ° [å“åº”å¼] å’Œ [ä¾èµ–æ”¶é›†] $mountåœ¨åˆå§‹åŒ–ä¹‹åŽå°±ä¼šè¿›è¡Œç»„ä»¶çš„æŒ‚è½½ compileå¦‚æžœæ˜¯è¿è¡Œæ—¶ä¼šè¿›è¡Œtemplateæ¨¡ç‰ˆçš„ç¼–è¯‘ï¼Œ åŒ…æ‹¬ ï¼š parse â€”â€” ä½¿ç”¨æ­£åˆ™è§£æžæ¨¡ç‰ˆä¸­çš„æŒ‡ä»¤ã€classã€styleç­‰ ï¼Œ å½¢æˆAST (æŠ½è±¡è¯­æ³•æ ‘) optimize â€”â€” æ ‡è®° static é™æ€èŠ‚ç‚¹ï¼Œç”¨äºŽåŽé¢update æ—¶ patch æ‰§è¡Œdiffç®—æ³•å¯¹é™æ€èŠ‚ç‚¹è·³è¿‡ï¼Œä»Žè€Œä¼˜åŒ–æ€§èƒ½ generate â€”â€” å°†ASTè½¬æ¢ä¸º render functionï¼Œ åŒ…æ‹¬ renderå­—ç¬¦ä¸² å’Œ staticRenderFnså­—ç¬¦ä¸² ç»è¿‡ä»¥ä¸Šæ­¥éª¤ä¹‹åŽï¼Œå°±ä¼šç”Ÿäº§ç”¨äºŽæ¸²æŸ“VNodeçš„ render function Virtual DOMRender function è½¬æ¢ä¸ºVnodeèŠ‚ç‚¹ï¼Œæœ€ç»ˆå½¢æˆ virtual Dom Tree ï¼Œæœ€åŽè™šæ‹ŸDomæ¸²æŸ“å¾—åˆ°çœŸå®žDom å“åº”å¼render functionè¢«æ¸²æŸ“æ—¶ä¼šè¯»å– Initæ—¶ç»‘å®šçš„å€¼ï¼Œå°±ä¼šè§¦å‘ getterå‡½æ•°è¿›è¡Œ [ä¾èµ–æ”¶é›†] [ä¾èµ–æ”¶é›†] æ˜¯ä¸ºäº†å°†è§‚å¯Ÿè€…watcherå¯¹è±¡å­˜æ”¾åˆ°è®¢é˜…è€…Depçš„subsä¸­ åœ¨ä¿®æ”¹å¯¹è±¡å€¼æ—¶ä¼šè§¦å‘setterå‡½æ•°ï¼Œé€šçŸ¥ä¹‹å‰ä¾èµ–æ”¶é›†depä¸­çš„æ¯ä¸ªwatcherå€¼å‘ç”Ÿæ”¹å˜äº†ï¼Œç´§æŽ¥ç€ï¼Œwatcherå°±ä¼šè°ƒç”¨ updateæ¥æ›´æ–°è§†å›¾ å…³äºŽsetterä¸ºä»€ä¹ˆè¦é€šçŸ¥depä¸­çš„æ¯ä¸ªwatchï¼Œè¿™é‡Œå¼•ç”¨ä¸€æ®µç½‘å‹çš„è§£é‡Š: é€šçŸ¥æ‰€æœ‰çš„watcheræ˜¯æŒ‡å¯¹åº”çš„depä¿å­˜çš„æ‰€æœ‰watcherã€‚è¿›è¡Œæ•°æ®åŠ«æŒçš„æ—¶å€™ï¼Œå¾ªçŽ¯éåŽ†dataä¸­æ‰€æœ‰çš„å±žæ€§ï¼Œä¸€ä¸ªå±žæ€§å°±ä¼šåˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„dep,å½“åˆå§‹åŒ–è§£æžç¼–è¯‘ç•Œé¢çš„æ—¶å€™ï¼Œä¸€ä¸ªæŒ‡ä»¤/è¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªwatcher,é‚£ä¹ˆè§£æžæŒ‡ä»¤/è¡¨è¾¾å¼çš„å€¼çš„æ—¶å€™å°±åŽ»è¯»dataä¸­çš„å±žæ€§ï¼Œè§¦å‘getterï¼Œå†è§¦å‘æ·»åŠ depæ·»åŠ è®¢é˜…ï¼ˆå°†watcheræ·»åŠ åˆ°dep.subsä¸­ï¼‰ï¼Œå½“ä¿®æ”¹å¯¹åº”çš„å±žæ€§çš„æ—¶å€™ï¼Œè§¦å‘setterï¼Œé‚£ä¹ˆå°±å†åŽ»è§¦å‘è¿™ä¸ªdepä¿å­˜çš„æ‰€æœ‰watcher æ€»ç»“ä»¥ä¸Šå¤§æ¦‚æ¢³ç†å‘¢Vueæ•´ä¸ªè¿è¡Œæœºåˆ¶ï¼ŒåŽç»­ä¼šé’ˆå¯¹æ¯ä¸ªå¤§æ¿å—ï¼Œå°åŠŸèƒ½è¿›è¡Œæ›´ç»†è‡´åŒ–çš„åˆ†æžã€‚]]></content>
      <categories>
        <category>javascript</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react hooksçŸ¥è¯†ç‚¹]]></title>
    <url>%2F2020%2F07%2F01%2Freact%20%20%E7%9F%A5%E8%AF%86%E7%82%B9%2F</url>
    <content type="text"><![CDATA[react çŸ¥è¯†ç‚¹(hooks, class)1. usecallback ç¼“å­˜å‡½æ•°ï¼Œä¾èµ–é¡¹å˜åŒ–åŽå†é‡æ–°ç”Ÿæˆ. useCallback Hook å…è®¸ä½ åœ¨é‡æ–°æ¸²æŸ“ä¹‹é—´ä¿æŒå¯¹ç›¸åŒçš„å›žè°ƒå¼•ç”¨ä»¥ä½¿å¾— shouldComponentUpdate ç»§ç»­å·¥ä½œ å½“ç¼“å­˜çš„å‡½æ•°ä¾èµ–é¡¹é¢‘ç¹å˜åŠ¨çš„è¯ï¼Œå¯ä»¥é‡‡ç”¨useRefçš„å½¢å¼ï¼Œåœ¨ xxxRef.current ä¸ŠæŠŠæ‰€ä¾èµ–çš„å˜é‡å†™å…¥xxxrefï¼Œ usecallbackä¾èµ– xxxRefï¼Œ å› ä¸ºxxxrefåªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œä¸”xxxref.currentå§‹ç»ˆæ˜¯æœ€æ–°çš„ï¼Œæ‰€ä»¥å¯ä»¥è§£å†³ä¾èµ–é¡¹é¢‘ç¹å˜æ›´çš„é—®é¢˜å¹¶ä¸”å¯ä»¥å®Œæˆå‡½æ•°çš„ç¼“å­˜ã€‚ 2.memo å­ç»„ä»¶ propsä¸å˜çš„æƒ…å†µä¸‹ï¼Œçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“å­ç»„ä»¶å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“ 3. useMemo ç¼“å­˜å€¼ï¼Œå½“ä¾èµ–é¡¹å˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ç”Ÿæˆæœ€æ–°å€¼ 4.PureComponent åŒmemoï¼Œ é€šè¿‡classç»§æ‰¿çš„æ–¹å¼å®žçŽ°å­ç»„ä»¶ä¸å› ä¸ºçˆ¶ç»„ä»¶æ›´æ–°è€Œè¿›è¡Œä¸å¿…è¦çš„æ¸²æŸ“ã€‚ï¼Œåªä¾èµ–props ä¸ºä»€ä¹ˆä¸æ¯ä¸ªç»„ä»¶éƒ½ç”¨memoæˆ–è€…pureComponentåŒ…è£…å‘¢ï¼Ÿâ€‹ reactå†³å®šç»„ä»¶æ˜¯å¦æ›´æ–°æ˜¯æ ¹æ® å‰åŽprops æ¥æ¯”è¾ƒçš„ï¼Œä½†æ¯”è¾ƒä¹Ÿä»…ä»…åªæ˜¯æ½œæ¯”è¾ƒ ï¼Œ åªèƒ½æ¯”è¾ƒå€¼çš„ä¸åŒï¼Œå¦‚æžœæ˜¯å¼•ç”¨ï¼Œæ¯”å¦‚å¯¹è±¡ã€æ•°ç»„ç­‰å°±æ— èƒ½ä¸ºåŠ›è€ã€‚ æ‰€ä»¥ï¼Œå¦‚æžœpropsæ˜¯å¼•ç”¨ç±»åž‹ï¼Œçˆ¶ç»„ä»¶æ¯æ¬¡æ›´æ–°ï¼Œä¼ é€’çš„å¼•ç”¨å¯¹è±¡éƒ½æ˜¯æ–°ç”Ÿæˆçš„ï¼Œåœ°å€ç©ºé—´å·²ç»å˜äº†ï¼Œæ‰€ä»¥å­ç»„ä»¶ç»è¿‡æ½œæ¯”è¾ƒåˆ¤æ–­å‰åŽçš„propæ˜¯ä¸ç›¸ç­‰çš„ï¼Œå°±ä¼šé€ æˆå­ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ åŒæ ·ï¼Œ ä¼ é€’çš„ç®­å¤´å‡½æ•°(åŒ¿åå‡½æ•°)ä¹Ÿä¼šé€ æˆç›¸åŒçš„åŽæžœã€‚ é‚£æˆ‘ä»¬å¦‚ä½•è§„é¿è¿™ç§æƒ…å†µå‘¢ï¼Ÿ æ‹†åˆ†propsä¼ å…¥çš„åº”ç”¨å¯¹è±¡ï¼Œæ‹†åˆ†ä¸ºå•ä¸ªçš„å€¼ å‡½æ•°ä¼ å…¥å”¯ä¸€å£°æ˜Žçš„å‡½æ•°å¼•ç”¨ã€‚ æ¯”å¦‚åœ¨classä¸­ä¼ å…¥ xxxxfn.bind(this)çš„å‡½æ•° æŽ§åˆ¶æ›´æ–°ã€‚ ä½¿ç”¨classçš„ shouldComponentUpdate(prevProps, prevState) æˆ–è€…memoçš„ ç¬¬äºŒä¸ªå‚æ•°æ¥å¯¹å‰åŽpropsè¿›è¡Œæ›´æ·±å±‚æ¬¡çš„æ¯”è¾ƒï¼Œä»Žè€ŒæŽ§åˆ¶æ›´æ–°ã€‚ 5. useReduce useReducer Hook å‡å°‘äº†å¯¹æ·±å±‚ä¼ é€’å›žè°ƒçš„ä¾èµ–ï¼Œ 6. useContext ç”¨äºŽè§£å†³ç»„ä»¶æ·±å±‚æ¬¡åµŒå¥—çš„é€šä¿¡é—®é¢˜]]></content>
      <categories>
        <category>javascript</category>
        <category>react</category>
      </categories>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ä½¿ç”¨ + ã€-æ±‚ä¸¤ä¸ªæ•°çš„å’Œ ï¼ˆå«ç¬¦å·ï¼‰]]></title>
    <url>%2F2020%2F06%2F19%2F%E4%B8%8D%E4%BD%BF%E7%94%A8%20%2B%20%E3%80%81-%E6%B1%82%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E5%92%8C%20%EF%BC%88%E5%90%AB%E7%AC%A6%E5%8F%B7%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä¸ä½¿ç”¨ + ã€-æ±‚ä¸¤ä¸ªæ•°çš„å’Œ ï¼ˆå«ç¬¦å·ï¼‰é¦–å…ˆæƒ³åˆ°ç”¨ä½è¿ç®—ç¬¦æ¥å¤„ç† ^ å¼‚æˆ– å¯ä»¥ç†è§£ä¸ºä¸è¿›ä½çš„åŠ æ³• å¦‚: 0010 ^ 0101 = 0111 0 + 0 = 0 | 1+1 = 0 | 1 + 0 = 1 &amp; æŒ‰ä½ä¸Ž &lt;&lt; æŒ‰ä½å·¦ç§» åˆ†æžï¼š æ—¢ç„¶ ^ å¼‚æˆ–å¯ä»¥å¾—åˆ°ä¸è¿›ä½å¾—å€¼ï¼Œé‚£ä¹ˆå†é€šè¿‡ &amp; æŒ‰ä½ä¸Žå–å¾—éœ€è¦è¿›ä½çš„ä½ï¼Œ å† &lt;&lt; æŒ‰ä½å·¦ç§»è¿›ä½å°±å¯ä»¥å–å¾—è¿›ä½çš„å€¼ å°† æ²¡è¿›ä½çš„å’Œ ^ è¿›ä½ æŽ¥ç€å†è¿›è¡Œä»¥ä¸Šçš„æ“ä½œï¼Œæ²¡è¿›ä½çš„å’Œ &amp; è¿›ä½ ç›´åˆ° &amp; çš„å€¼ä¸º0æ—¶å°±ä»£è¡¨æ²¡æœ‰è¿›ä½äº†ï¼Œ å°±è¿”å›ž æ²¡è¿›ä½çš„å’Œ ^ è¿›ä½ çš„å€¼ eg: 9 + 7 = 1001 + 0111 s1 = 1001 ^ 0111 = 1110 | 1001 &amp; 0111 = 0001 | j1 = 0001 &lt;&lt; 1 = 0010 j2 = s1 &amp; j1 = 1110 &amp; 0010 = 0010 &lt;&lt; 1 = 0100 (è¿˜æœ‰è¿›ä½ï¼Œç»§ç»­æ‰§è¡Œä¸Šè¿°æ­¥éª¤) s2 = s1 ^ j1 = 1110 ^ 0010 = 1100 J3 = j2 &amp; s2 = 0100 &amp; 1100 = 0100 &lt;&lt; 1 = 1000 s3 = j2 ^ s2 = 0100 ^ 1100 = 1000 J4 = j3 &amp; s3 = 1000 &amp; 1000 = 1000 &lt;&lt; 1 = 10000 s4 = j3 ^ s3 = 1000 ^ 1000 = 0000 j5 = j4 &amp; s4 = 1 000 &amp; 0000 = 0 0000 s5 = j4 ^ s4 = 1 0000 ^ 0 0000 = 1 0000 = 16 j s å®žçŽ°123456789101112let add = function(a,b) &#123; let sum = a ^ b; let carry = (a&amp;b) &lt;&lt; 1; if(a&amp;b) &#123; return add(sum, carry); &#125; else &#123; return sum; &#125;&#125;add(10, 6) // 16add(-2, 8) // 6 python å®žçŽ°1234567891011#!/usr/bin/python3def add(a, b): if(b == 0): return a sum = a ^ b carry = (a &amp; b) &lt;&lt; 1 return add(sum, carry) nums = add(2,99) // 101]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯çŸ¥è¯†ç‚¹æ¢³ç† --part one]]></title>
    <url>%2F2020%2F06%2F10%2F%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E7%82%B9%E6%A2%B3%E7%90%86%20%20%20--part%20one%2F</url>
    <content type="text"><![CDATA[å‰ç«¯çŸ¥è¯†ç‚¹æ¢³ç† â€“part oneåŸºç¡€éƒ¨åˆ†1. Html è¯­ä¹‰åŒ–çš„å¥½å¤„ ? ä½¿htmlçš„ç»“æž„æ›´æ¸…æ™°ï¼Œæ›´ç›´è§‚ï¼Œæ›´æ˜“äºŽseo 2. æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº› ï¼Ÿ å®šä¹‰ä¸€ä¸ªç©ºæ ‡ç­¾å†æµ®åŠ¨å…ƒç´ ä¹‹åŽã€‚ ç„¶åŽç»™å…¶ clear: both å®šä¹‰ä¼ªå…ƒç´ æ¥æ¸…é™¤æµ®åŠ¨ ä½¿ç”¨overflow:autoï¼ˆç©ºæ ‡ç­¾å…ƒç´ æ¸…é™¤æµ®åŠ¨è€Œä¸å¾—ä¸å¢žåŠ æ— æ„ä»£ç çš„å¼Šç«¯,,ä½¿ç”¨zoom:1ç”¨äºŽå…¼å®¹IEï¼‰ã€‚ 3. imgæ ‡ç­¾ alt å’Œ titleçš„å¼‚åŒ alt æ˜¯å½“å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥æ—¶æ˜¾ç¤ºçš„æ–‡å­—ã€‚ title æ˜¯hoveræ—¶æ˜¾ç¤ºçš„æç¤ºæ–‡å­—ã€‚ (æè¿°æ€§æ–‡å­—ï¼Œ ä¸€ç›´éƒ½æœ‰) æ€»ç»“ï¼š altæ˜¯å½“æ­£å¸¸å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥æ—¶çš„æ›¿ä»£å†…å®¹ã€‚titleæ˜¯ä¸€ç›´å­˜åœ¨çš„æè¿°æ€§å†…å®¹ã€‚ 4. è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Ÿå—çº§å…ƒç´ æœ‰å“ªäº›ï¼Ÿ ç©º(void)å…ƒç´ æœ‰é‚£äº›? è¡Œå†…å…ƒç´ : iã€strongã€bã€bmã€aã€spanã€inputã€selectã€img å—çº§å…ƒç´ : divã€h(x)ã€pã€ulã€olã€li ç©ºå…ƒç´  br 5. html5æœ‰å“ªäº›æ–°ç‰¹æ€§ã€ç§»é™¤äº†é‚£äº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5æ–°æ ‡ç­¾çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ† HTML å’Œ HTML5ï¼Ÿ æ–°å¢žçš„å…ƒç´  è¯­ä¹‰åŒ–å…ƒç´ : articleã€sectionã€headerã€navã€footer éŸ³è§†é¢‘å…ƒç´ ï¼švideoã€audio ç”»å¸ƒå…ƒç´ ï¼š canvas è¡¨å•æŽ§ä»¶ï¼š timeã€emailã€dateã€calendarâ€¦â€¦ ç¼“å­˜ local storageã€session storage æ–°æŠ€æœ¯ï¼š webworker(ä¸º JavaScript åˆ›é€ å¤šçº¿ç¨‹çŽ¯å¢ƒ)ã€geolacationã€websocket ç§»é™¤çš„å…ƒç´  frameã€framesetï¼Œnoframes çº¯è¡¨çŽ°çš„å…ƒç´ ï¼š basefontï¼Œbigï¼Œcenterï¼Œfont, sï¼Œstrikeï¼Œttï¼Œu å¦‚ä½•æ”¯æŒæ–°çš„æ ‡ç­¾ ç›´æŽ¥ä½¿ç”¨æˆç†Ÿçš„æ¡†æž¶ã€ä½¿ç”¨æœ€å¤šçš„æ˜¯html5shimæ¡†æž¶ å¦‚ä½•åŒºåˆ†æ˜¯html5 docType/æ–°å¢žçš„å…ƒç´  6. ä»‹ç»ä¸€ä¸‹CSSçš„ç›’å­æ¨¡åž‹ï¼Ÿ IEç›’æ¨¡åž‹ ï½œ æ ‡å‡†ç›’æ¨¡åž‹ IEç›’æ¨¡åž‹çš„è®¡ç®—æ–¹å¼æ˜¯ border + padding + content = å®½ ï½œ é«˜ æ ‡å‡†ç›’æ¨¡åž‹è®¡ç®—æ–¹å¼æ˜¯ content = å®½ ï½œ é«˜ 7. css3æ–°å¢žå±žæ€§? Border- è¾¹æ¡†(shadowã€imgã€radius) Background-èƒŒæ™¯ (imageã€sizeã€origin(ç›¸å¯¹ä¸åŒç›’æ¨¡åž‹)ã€clip(ç›¸å¯¹ä¸åŒç›’æ¨¡åž‹è£å‰ª)) â€” (border-boxã€content-boxã€padding-box) gradients æ¸å˜ã€‚ çº¿æ€§æ¸å˜ â€“ Linear Gradients ã€‚ å¾„å‘æ¸å˜ â€“ Radial Gradients æ–‡å­—æ•ˆæžœ (text-shadow: æ–‡å­—é˜´å½±ã€box-shadow: ç›’å­é˜´å½± ã€text-overflow: æ–‡å­—æº¢å‡ºå¤„ç†ã€ word-wrap: æ–‡å­—æ¢è¡Œã€ word-breakï¼š æ‹†åˆ†æ¢è¡Œ,éžä¸­æ—¥éŸ©æ–‡æœ¬) å­—ä½“: @font-face 2Dã€3Dè½¬æ¢ . 2D : translate(ç§»åŠ¨)ã€ rotate(æ—‹è½¬)ã€ scale(ç¼©æ”¾)ã€ matrix(åŒ…å«æ—‹è½¬ï¼Œç¼©æ”¾ï¼Œç§»åŠ¨ï¼ˆå¹³ç§»ï¼‰å’Œå€¾æ–œåŠŸèƒ½ã€‚ 3D: 2Då±žæ€§çš„3Dä½“çŽ° è¿‡æ¸¡: transition åŠ¨ç”» @keyframes è§„åˆ™ ã€‚ animation ï¼š ä½¿åˆ›å»ºçš„è§„åˆ™ç”Ÿæ•ˆ å¤šåˆ—å¸ƒå±€ column-xxx å¼¹æ€§å¸ƒå±€ flex åª’ä½“æŸ¥è¯¢ @media xxx and (max-with: xxxpx) {}]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>summary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äºŒè¿›åˆ¶æµè½¬å›¾ç‰‡]]></title>
    <url>%2F2020%2F04%2F07%2Fblob2pic%2F</url>
    <content type="text"><![CDATA[äºŒè¿›åˆ¶æµ(ArrayBuffer)è½¬ä¸ºå›¾ç‰‡ é¦–å…ˆé€šè¿‡ajaxæˆ–è€…wsèŽ·å–åˆ°ä¼ æ¥çš„äºŒè¿›åˆ¶æµæ•°æ® responseType éœ€è¦è®¾ç½®ä¸ºarraybufferã€‚ ç„¶åŽæˆ‘ä»¬æ‹¿åˆ°æ‰€éœ€çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œ é€šè¿‡consoleæ‰“å°å‘çŽ°æ˜¯ä¸€ä¸ªArrayBufferï¼ŒæŽ¥ç€æˆ‘ä»¬å¯¹å…¶è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼Œè½¬ä¸ºbase64: 1234567891011121314151617function arrayBufferToBase64(buffer) &#123; var binary = ''; var bytes = new Uint8Array(buffer); var len = bytes.byteLength; for (var i = 0; i &lt; len; i++) &#123; binary += String.fromCharCode(bytes[i]); &#125; return window.btoa(binary);&#125; æ˜¾ç¤ºå›¾ç‰‡ã€‚ æŽ¥ç€æˆ‘ä»¬æŠŠæ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®é€šè¿‡ä¸Šé¢çš„å‡½æ•°è½¬ä¸ºurl: 1let url= arrayBufferToBase64(response); â€‹ ç„¶åŽå°†ç”Ÿæˆçš„urlæ”¾åˆ°imgæ ‡ç­¾çš„srcå±žæ€§ä¸­ï¼š 1document.getElementById('img').src='data:image/jpeg;base64,'+url; â€‹ å¤§åŠŸå‘Šæˆï½ž]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>blob</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nuxt i18nå›½é™…åŒ–]]></title>
    <url>%2F2019%2F03%2F31%2FNuxt.js%20%20i18n%E5%9B%BD%E9%99%85%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Nuxt.jsé›†æˆå›½é™…åŒ–å‰è¨€â€‹ å…¬å¸å®˜ç½‘éœ€æ±‚è¦åŠ ä¸Šå›½é™…åŒ–ï¼Œ ä¹‹å‰å®˜ç½‘ä½¿ç”¨çš„æ˜¯vueçš„ nuxtæ¡†æž¶ï¼Œç„¶åŽgenerateç”Ÿæˆçš„é™æ€é¡µé¢ï¼Œçœ‹äº†ä¸€ä¸‹ï¼Œnuxtå®˜æ–¹æœ‰é›†æˆi18nçš„ç¤ºä¾‹å°±è·Ÿç€å¼„äº†ä¸€ä¸‹ï¼ŒæœŸé—´ä¹Ÿè¸©äº†ä¸€äº›å‘ã€‚ å‡†å¤‡å·¥ä½œå®‰è£…â€‹ npm install vue-i18n â€“save åœ¨nuxt.config.js ä¸­é…ç½®â€‹ 12345plugins: ['~/plugins/i18n.js'],router: &#123; middleware: ['i18n']&#125; åœ¨pluginsæ–‡ä»¶å¤¹ä¸‹æ–°å»ºi18n.jsâ€‹ 12345678910111213141516171819202122232425import Vue from 'vue'import VueI18n from 'vue-i18n'Vue.use(VueI18n)export default (&#123; app, store &#125;) =&gt; &#123; // Set i18n instance on app // This way we can use it in middleware and pages asyncData/fetch app.i18n = new VueI18n(&#123; locale: store.state.locale, fallbackLocale: 'cn', messages: &#123; en: require('~/locales/en.json'), cn: require('~/locales/cn.json') &#125; &#125;) app.i18n.path = link =&gt; &#123; if (app.i18n.locale === app.i18n.fallbackLocale) &#123; return `/$&#123;link&#125;` &#125; return `/$&#123;app.i18n.locale&#125;/$&#123;link&#125;` &#125;&#125; åœ¨middlewareæ–‡ä»¶å¤¹ä¸‹æ–°å»º i18n.jsâ€‹ 12345678910111213141516171819202122export default function (&#123; isHMR, app, store, route, params, error, redirect &#125;) &#123; const defaultLocale = app.i18n.fallbackLocale // If middleware is called from hot module replacement, ignore it if (isHMR) return // Get locale from params // const locale = params.lang || defaultLocale const locale = params.lang || defaultLocale if (store.state.locales.indexOf(locale) === -1) &#123; return error(&#123; message: 'This page could not be found.', statusCode: 404 &#125;) &#125; // Set locale store.commit('SET_LANG', locale) app.i18n.locale = store.state.locale // If route is /&lt;defaultLocale&gt;/... -&gt; redirect to /... if (locale === defaultLocale &amp;&amp; route.fullPath.indexOf('/' + defaultLocale) === 0) &#123; const toReplace = '^/' + defaultLocale + (route.fullPath.indexOf('/' + defaultLocale + '/') === 0 ? '/' : '') const re = new RegExp(toReplace) return redirect( route.fullPath.replace(re, '/') ) &#125;&#125; åˆ›å»ºæœ¬åœ°è¯­è¨€åº“â€‹ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹localesï¼Œ ç„¶åŽåœ¨æ–‡ä»¶å¤¹ä¸‹æ·»åŠ ä½ è¦ç¿»è¯‘çš„è¯­è¨€çš„jsonæ–‡ä»¶ ã€‚ åœ¨storeæ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.jsâ€‹ 123456789101112export const state = () =&gt; (&#123; locales: ['en', 'cn'], locale: 'cn'&#125;)export const mutations = &#123; SET_LANG(state, locale) &#123; if (state.locales.indexOf(locale) !== -1) &#123; state.locale = locale &#125; &#125;&#125; è¸©å‘â€¦â€¦â€‹ å¥½äº†ï¼Œç…§ç€å®˜æ–¹æŠŠè¯¥åŠ çš„éƒ½åŠ äº†ï¼Œè¿™ä¸‹å°±èƒ½å®žçŽ°å›½é™…åŒ–çš„åˆ‡æ¢äº†å§ã€‚ ç„¶åŽå‚è€ƒäº†å‡ ç¯‡æ–‡ç« ï¼Œ é€šè¿‡ this.$i18n.locale = Langname æˆ–æ˜¯ this.$store.commit(â€˜SET_LANGâ€™, lang) åˆ‡æ¢è¯­è¨€ã€‚ ç»“æžœè¦ä¸å°±æ˜¯404ï¼Œ è¦ä¸å°±æ˜¯ä¸€ä¸ªé¡µé¢åˆ‡æ¢äº†ï¼Œç„¶åŽæ¢ä¸ªé¡µé¢ï¼Œä¹Ÿå°±æ˜¯åˆ‡æ¢äº†è·¯ç”±åˆå˜å›žåŽŸæ¥çš„è¯­è¨€äº†ã€‚ã€‚ã€‚ â€‹ ç»“æžœæ‰¾äº†å¥½ä¹…å‘çŽ°æ˜¯è·¯ç”±çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯middlewareä¸­çš„è¿™ä¸€æ®µä»£ç : 1234567const locale = params.lang || defaultLocale if (store.state.locales.indexOf(locale) === -1) &#123; return error(&#123; message: 'This page could not be found.', statusCode: 404 &#125;) &#125; // Set locale store.commit('SET_LANG', locale) app.i18n.locale = store.state.locale æ¯æ¬¡æˆ‘ä»¬åˆ‡æ¢é¡µé¢çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼Œç„¶åŽä¼šåŽ»åˆ¤æ–­è·¯ç”±ä¸­çš„params å¦‚æžœlangå‚æ•°æœ‰å€¼å°±å°†è¯­è¨€è®¾ç½®ä¸ºå¯¹åº”çš„å€¼ã€‚ â€‹ æ¯”å¦‚æˆ‘çš„åœ°å€æ˜¯ â€œhttp://localhost/zn/&quot; é‚£ä¹ˆä¸­é—´ä»¶å°±ä¼šå°†å½“å‰çš„langè®¾ç½®ä¸ºzn å¦‚æžœå°±æ˜¯â€http://localhost/&quot; å°±ä¼šè®¾ç½®ä¸ºé»˜è®¤çš„å€¼. â€‹ æ‰€ä»¥ä¹‹å‰æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®äº†storeä¸­çš„å€¼ï¼Œåˆ‡æ¢äº†è·¯ç”±å°±ä¼šå˜å›žåŽŸæ ·æ˜¯å› ä¸ºæ¯æ¬¡ä¸­é—´ä»¶éƒ½ä¼šæŠŠlocaleè®¾ç½®æˆé»˜è®¤å€¼(å› ä¸ºæˆ‘ä»¬è·¯ç”±ä¸­æ²¡æœ‰å¸¦å‚æ•°)ã€‚ â€‹ å¯æ˜¯å½“æˆ‘ä»¬è·¯ç”±å¸¦ä¸Šå‚æ•°åŽåˆ‡å‡ºçŽ°æ‰¾ä¸åˆ°é¡µé¢çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºå½“å‰è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚ â€œhttp://localhost/zn/&quot; æ‰¾ä¸åˆ°æˆ‘ä»¬çš„é¡µé¢ã€‚ è¿™æ˜¯æˆ‘ä»¬å°±è¦ç”¨åˆ°nuxtæä¾›ç»™æˆ‘ä»¬çš„ä¸€ä¸ª åŠ¨æ€è·¯ç”±çš„åŠŸèƒ½ã€‚ â€‹ åŠ¨æ€è·¯ç”±æ ¹æ®å®˜æ–¹å¯å¦‚ä¸‹é…ç½®ï¼Œå› ä¸ºnuxtæ˜¯æ ¹æ®pageä¸‹ç›®å½•ç”Ÿæˆè·¯ç”±ï¼Œå¯å¦‚ä¸‹ç»„ç»‡ç›®å½•: _lang å°±æ˜¯åŠ¨æ€è·¯ç”±ä¸‹çš„å‚æ•°é¡¹ï¼Œè¿™æ ·ä¸ç®¡æ˜¯å¸¦ä¸å¸¦å‚æ•°éƒ½èƒ½æ‰¾åˆ°é¡µé¢äº†ã€‚]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>i18n</tag>
        <tag>nuxt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[csså¤šè¡Œæ–‡æœ¬çœç•¥å·]]></title>
    <url>%2F2019%2F03%2F21%2Fcss%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E7%9C%81%E7%95%A5%E5%8F%B7%2F</url>
    <content type="text"><![CDATA[CSSå¤šè¡Œæ–‡æœ¬è®¾ç½®çœç•¥å·å•è¡Œæ–‡æœ¬çœç•¥å· å¦‚æžœè¦è®¾ç½®å•è¡Œæ–‡æœ¬è¶…å‡ºå®¹å™¨æœ«å°¾æ˜¾ç¤ºçœç•¥å·æ˜¯éžå¸¸ç®€å•çš„ï¼Œé€šè¿‡: 12overflow: hidden;text-overflow: ellipsis; å³å¯å®žçŽ°å•è¡Œæ–‡æœ¬çš„çœç•¥å·ã€‚ å¤šè¡Œæ–‡æœ¬çš„çœç•¥å·â€‹ ä¸‹é¢å°±æ˜¯æœ¬æ–‡ä¸»è¦è®¨è®ºçš„ç‚¹äº†ï¼Œå¦‚ä½•å®žçŽ°å¤šè¡Œæ–‡æœ¬è¶…å‡ºåŒºåŸŸæ˜¾ç¤ºçœç•¥å·ï¼Œæˆ–è€…è¯´å¯ä»¥è®¾ç½®æœ€å¤šæ˜¾ç¤ºå‡ è¡Œã€‚ â€‹ å®žçŽ°çš„æ–¹å¼æœ‰å¤šç§ï¼Œå¯ä»¥ç”¨cssï¼Œä¹Ÿå¯ä»¥ç”¨jsã€‚ å…¶ä¸­cssä¹Ÿæœ‰å¤šç§æ–¹æ³•, ä½†ä¸€äº›æ–¹æ³•æˆ–å¤šæˆ–å°‘éƒ½æœ‰ç‚¹hackçš„å‘³é“ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€ç§æµè§ˆå™¨åŽŸç”Ÿçš„å¤šè¡Œæ–‡æœ¬æ˜¾ç¤ºçš„æ–¹æ³•ã€‚ åœ¨åŒ…å«æ–‡æœ¬çš„æ ‡ç­¾ä¸­æ·»åŠ å¦‚ä¸‹cssæ ·å¼: 1234567p &#123; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4;&#125; Tips: 1. åªæœ‰ä¸­æ–‡å†…å®¹åœ¨åˆ°è¾¾æœ€å¤§å®½åº¦æ—¶æ‰ä¼šè‡ªåŠ¨æ¢è¡Œ å¦‚æžœè¦è‹±æ–‡æ”¯æŒçš„è¯éœ€è¦æ·»åŠ  word-break: break-all æ–‡æœ¬æ‰ä¼šæ¢è¡Œã€‚ ç»æµ‹è¯• æ­¤cssæ ·å¼åœ¨chromeã€safariæµè§ˆå™¨ä¸Šèƒ½æ­£å¸¸ç”Ÿæ•ˆï¼Œä½†åœ¨Firefoxä¸Šå¥½åƒå¹¶ä¸èµ·æ•ˆæžœã€‚ è¸©å‘â€‹ å•ç‹¬å°è¯•æ·»åŠ ä¸Šé¢çš„æ ·å¼å¯ä»¥å®žçŽ°å¤šè¡Œçœç•¥å·ï¼Œä½†æˆ‘åœ¨Vueä»¥åŠnuxtæ¡†æž¶ä¸‹å¼€å‘ï¼Œå‡ ç»å°è¯•éƒ½ä¸èµ·æ•ˆæžœï¼Œä¸€ç›´è®¤ä¸ºæ˜¯ä¸æ˜¯æµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ªæ ·å¼ã€‚ç»“æžœå€’è…¾è®¸ä¹…æ‰å‘çŽ°æ˜¯ autoprefixerè¿™ä¸ªæ’ä»¶å¹²çš„â€å¥½äº‹â€ã€‚ åœ¨åŽŸæ¥çš„cssä¸­æˆ‘ä»¬æ·»åŠ äº†-webkit-box-orient: vertical è¿™ä¸ªæ ·å¼ã€‚ ä½†æ˜¯ç»è¿‡ autoprefixer å¤„ç†ä¹‹åŽï¼Œå…ƒç´ ä¸­ç«Ÿç„¶æ²¡æœ‰äº†ï¼ï¼ å¥½å§ã€‚ã€‚ã€‚ æ‰‹åŠ¨åŠ ä¸Šä¹‹åŽå°±å¯ä»¥å®žçŽ°å¤šè¡Œæ–‡æœ¬çœç•¥å·çš„æ•ˆæžœäº†ã€‚ â€‹ é‚£æ€Žä¹ˆè§£å†³ autoprefixeråŽ»æŽ‰ -webkit-box-orient: vertical è¿™ä¸ªæ ·å¼çš„é—®é¢˜å‘¢ï¼Ÿ å¾ˆç®€å•ï¼Œåœ¨è¯¥æ ·å¼æ ·å¤šåŠ ä¸€æ¡æ³¨é‡Š /*! autoprefixer: off */ ã€‚ â€‹ å“¦äº†ï¼Œè¿™ä¸‹æˆ‘ä»¬å°±èƒ½æ„‰å¿«çš„ä½¿ç”¨å¤šè¡Œæ–‡æœ¬è®¾ç½®çœç•¥å·äº†ï½ž]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>cssæŠ€å·§</tag>
      </tags>
  </entry>
</search>
